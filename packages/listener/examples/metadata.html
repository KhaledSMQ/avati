<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>EventListenerManager - Metadata Example</title>
</head>
<body>
<button id="metaButton">Click Me</button>


<script src="../dist/index.js"></script>
<script>
  const { eventManager } = window['@avati/listener'];
  document.addEventListener('DOMContentLoaded', () => {
    const button = document.getElementById('metaButton');

    function handleClick(event) {
      if (event.metadata) {
        console.log('Event ID:', event.metadata.eventId);
        console.log('Timestamp:', new Date(event.metadata.timestamp));
        console.log('Original Callback:', event.metadata.originalCallback);
      }
      alert('Button clicked!');
    }

    // Add event listener with metadata
    eventManager.add(button, 'click', handleClick, { metadata: true });
  });
</script>
</body>
</html>
