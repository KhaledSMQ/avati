var t={d:function(e,n){for(var i in n)t.o(n,i)&&!t.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:n[i]})},o:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}},e={};function n(t){const e="string"==typeof t?document.querySelector(t):t;if(!e)throw new Error("Element not found");const n=window.getComputedStyle(e);return{top:r(n.marginTop),right:r(n.marginRight),bottom:r(n.marginBottom),left:r(n.marginLeft),all:n.margin}}function i(t,e){return n(t)[e]}function r(t){return parseInt(t,10)||0}function o(t){const e=n(t);return Object.values(e).some((t=>"number"==typeof t&&t>0))}function a(t){const e=n(t);return e.left+e.right}function u(t){const e=n(t);return e.top+e.bottom}t.d(e,{E8:function(){return h},sr:function(){return c},ag:function(){return s},er:function(){return d},DC:function(){return x},A9:function(){return E},$x:function(){return N},n:function(){return p},FJ:function(){return w},nj:function(){return a},Tj:function(){return i},Qu:function(){return n},Z7:function(){return u},bL:function(){return o},hx:function(){return B},$F:function(){return r},De:function(){return g},Nz:function(){return C},dU:function(){return v},dA:function(){return y},x5:function(){return b},Bq:function(){return f},Wp:function(){return m}});const s=t=>{const e=t.getBoundingClientRect(),n=getComputedStyle(t),i={top:parseFloat(n.marginTop),right:parseFloat(n.marginRight),bottom:parseFloat(n.marginBottom),left:parseFloat(n.marginLeft)};return{x:e.left,y:e.top,width:e.width,height:e.height,right:e.right,bottom:e.bottom,margins:i}},c=(t,e=!1)=>({shouldIncludeInLayout(){return e},getBounds(){const e=t.getBoundingClientRect(),n=window.getComputedStyle(t),i={top:r(n.marginTop),right:r(n.marginRight),bottom:r(n.marginBottom),left:r(n.marginLeft)},o={x:e.left,y:e.top,width:e.width,height:e.height,right:e.right,bottom:e.bottom,margins:i};return{element:o,inner:{x:o.x,y:o.y,width:o.width,height:o.height,right:o.right,bottom:o.bottom},outer:{x:o.x-i.left,y:o.y-i.top,width:o.width+i.left+i.right,height:o.height+i.top+i.bottom,right:o.right+i.right,bottom:o.bottom+i.bottom}}}}),l=1e-6;class h extends Error{constructor(t){super(t),this.name="BoundaryCalculationError"}}class d{static validateNumber(t,e){if(!Number.isFinite(t))throw new h(`${e} must be a finite number`);if(Math.abs(t)>1e7)throw new h(`${e} exceeds maximum safe coordinate value`)}static validateRectangle(t,e="Rectangle"){if(this.validateNumber(t.x,`${e}.x`),this.validateNumber(t.y,`${e}.y`),this.validateNumber(t.width,`${e}.width`),this.validateNumber(t.height,`${e}.height`),this.validateNumber(t.right,`${e}.right`),this.validateNumber(t.bottom,`${e}.bottom`),t.width<0||t.height<0)throw new h(`${e} cannot have negative dimensions`);const n=t.x+t.width,i=t.y+t.height;if(Math.abs(n-t.right)>l||Math.abs(i-t.bottom)>l)throw new h(`${e} coordinates are inconsistent with dimensions`)}static validateMargins(t){if(t.top<0||t.right<0||t.bottom<0||t.left<0)throw new h("Margins cannot be negative")}static validateScale(t){if(t.x<=0||t.y<=0)throw new h("Scale factors must be positive")}static calculateBounds(t,e,n={}){this.validateRectangle(t,"elementBounds"),this.validateMargins(t.margins);const{offset:i={x:0,y:0},scale:r={x:1,y:1}}=n;this.validateNumber(i.x,"offset.x"),this.validateNumber(i.y,"offset.y"),this.validateScale(r);const o=this.createBaseBounds(t,i,r),a=this.calculateCombinedChildBounds(e),u=this.combineBounds(o,a,t.margins);return this.validateRectangle(u.inner,"combinedBounds.inner"),this.validateRectangle(u.outer,"combinedBounds.outer"),u}static createBaseBounds(t,e,n){const i=t.width*n.x,r=t.height*n.y,o={x:e.x,y:e.y,width:i,height:r,right:e.x+i,bottom:e.y+r},a={x:t.x,y:t.y,width:t.width,height:t.height,right:t.x+t.width,bottom:t.y+t.height};return{element:{...t},inner:a,outer:o}}static calculateCombinedChildBounds(t){const e=t.filter((t=>{try{return t.shouldIncludeInLayout()}catch(t){return console.warn("Error checking child view layout inclusion:",t),!1}}));if(0===e.length)return null;let n=!1,i=this.createEmptyBounds();for(const t of e)try{const e=t.getBounds();try{this.validateRectangle(e.inner,"childBounds.inner"),this.validateRectangle(e.outer,"childBounds.outer"),i=this.expandBoundary(i,e.inner),i=this.expandBoundary(i,e.outer),n=!0}catch(t){console.warn("Invalid child view bounds:",t)}}catch(t){console.warn("Error getting child view bounds:",t)}return n?this.calculateDimensions(i):null}static createEmptyBounds(){return{x:Number.POSITIVE_INFINITY,y:Number.POSITIVE_INFINITY,width:0,height:0,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY}}static expandBoundary(t,e){return{x:Math.min(t.x,e.x),y:Math.min(t.y,e.y),right:Math.max(t.right,e.right),bottom:Math.max(t.bottom,e.bottom),width:0,height:0}}static combineBounds(t,e,n){const i={element:{...t.element},inner:{...t.inner},outer:{...t.outer}};return e&&(i.inner=d.expandBoundary(i.inner,e),i.inner=d.calculateDimensions(i.inner),i.outer=d.expandBoundary(i.outer,e),i.outer=d.calculateDimensions(i.outer)),i.outer=d.applyMargins(i.outer,n),i}static applyMargins(t,e){const n=t.x-e.left,i=t.y-e.top,r=t.right+e.right,o=t.bottom+e.bottom;return{x:n,y:i,width:r-n,height:o-i,right:r,bottom:o}}static calculateDimensions(t){const e=Math.max(0,t.right-t.x),n=Math.max(0,t.bottom-t.y);return{x:t.x,y:t.y,width:e,height:n,right:t.x+e,bottom:t.y+n}}}function m(t,e,n=!1){Object.entries(e).forEach((([e,i])=>{f(t,e,i,n)}))}function f(t,e,n,i=!1){if("className"===e)t.className.baseVal=n;else if("style"===e&&"object"==typeof n)Object.assign(t.style,n);else if(e.startsWith("on")&&"function"==typeof n){const i=e.substring(2).toLowerCase();t.addEventListener(i,n)}else e in t?t[e]=n:i?t.setAttributeNS(null,e,n):t.setAttribute(e,n)}function g(t,e){if("className"===e)t.className="";else if("style"===e)t.removeAttribute("style");else if(e.startsWith("on")){const t=e.substring(2).toLowerCase();console.warn(`Cannot remove event listener for ${t}. You need to keep a reference to the handler.`)}else t.removeAttribute(e)}function b(t,e=document){return"undefined"==typeof document?null:e.querySelector(t)}function y(t,e=document){return e.querySelectorAll(t)}function p(t,e,n){if("undefined"==typeof document)return null;const i=document.createElement(t);return e&&m(i,e),n&&n.length>0&&n.forEach((t=>{"string"==typeof t?i.appendChild(document.createTextNode(t)):i.appendChild(t)})),i}function w(t,e,n){if("undefined"==typeof document)return null;const i=document.createElementNS("http://www.w3.org/2000/svg",t);return e&&m(i,e,!0),n&&n.length>0&&n.forEach((t=>{"string"==typeof t?i.appendChild(document.createTextNode(t)):i.appendChild(t)})),i}function x(t,e,n){"undefined"!=typeof document&&t.addEventListener(e,n)}function v(t,e,n){"undefined"!=typeof document&&t.removeEventListener(e,n)}function E(t,e){return"undefined"==typeof document||("string"==typeof e?t.appendChild(document.createTextNode(e)):t.appendChild(e)),t}function B(t,e,n){"undefined"!=typeof document&&t.insertBefore(e,n)}function N(t){if("undefined"!=typeof document)for(;t.firstChild;)t.removeChild(t.firstChild)}function C(t){"undefined"!=typeof document&&t.parentElement&&t.parentElement.removeChild(t)}var I=e.E8,M=e.sr,T=e.ag,A=e.er,$=e.DC,F=e.A9,L=e.$x,S=e.n,R=e.FJ,j=e.nj,V=e.Tj,D=e.Qu,O=e.Z7,q=e.bL,P=e.hx,Y=e.$F,W=e.De,_=e.Nz,z=e.dU,G=e.dA,k=e.x5,J=e.Bq,Q=e.Wp;export{I as BoundaryCalculationError,M as ChildViewElement,T as GetElementBounds,A as ViewBoundaryCalculator,$ as addEventListenerToElement,F as appendChildToElement,L as clearElementChildren,S as createElement,R as createSvgElement,j as getHorizontalMargin,V as getMargin,D as getMargins,O as getVerticalMargin,q as hasMargin,P as insertElementBefore,Y as parsePixelValue,W as removeAttribute,_ as removeElement,z as removeEventListenerFromElement,G as selectAllElements,k as selectElement,J as setAttribute,Q as setAttributes};