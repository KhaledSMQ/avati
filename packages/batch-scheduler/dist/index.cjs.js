/*!
 * @avatijs/batch-scheduler 0.1.0
 * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://avati.io/ for details.
 */

/* eslint-disable */

/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (() => { // webpackBootstrap
/******/ 	"use strict";
/******/ 	var __webpack_modules__ = ({

/***/ "./src/batch-scheduler.ts":
/*!********************************!*\
  !*** ./src/batch-scheduler.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BatchScheduler: () => (/* binding */ BatchScheduler),\n/* harmony export */   batchUpdates: () => (/* binding */ batchUpdates)\n/* harmony export */ });\n/* harmony import */ var _dev__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dev */ \"./src/dev.ts\");\n/**\n * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n **/\n\n/**\n * BatchScheduler is responsible for managing and executing tasks in batches.\n * It supports task prioritization, cancellation, error handling, and batching contexts.\n *\n * @example\n * // Retrieve the singleton instance\n * const scheduler = BatchScheduler.getInstance();\n *\n * // Schedule a task\n * scheduler.schedule(() => {\n *     console.debug('Task executed.');\n * });\n *\n * // Schedule a high-priority task\n * scheduler.schedule(() => {\n *     console.debug('High-priority task executed.');\n * }, { priority: 10 });\n *\n * // Start a batching context\n * scheduler.startBatch();\n *\n * // Schedule tasks within the batch\n * scheduler.schedule(() => {\n *     console.debug('Task within batch.');\n * });\n *\n * // End the batching context to process tasks\n * scheduler.endBatch();\n *\n * // Flush pending tasks immediately\n * scheduler.flush();\n *\n * // Shutdown the scheduler\n * scheduler.shutdown();\n */\nclass BatchScheduler {\n    constructor() {\n        /**\n         * Depth of the current batching context.\n         */\n        this.batchDepth = 0;\n        /**\n         * Queue of tasks scheduled for execution.\n         */\n        this.taskQueue = [];\n        /**\n         * Indicates whether the task queue is scheduled for processing.\n         */\n        this.isScheduled = false;\n        /**\n         * Indicates whether the scheduler is shutting down.\n         */\n        this.isShuttingDown = false;\n        /**\n         * Current batch promise.\n         * @private\n         */\n        this.currentBatchPromise = null;\n    }\n    /**\n     * Retrieves the singleton instance of the BatchScheduler.\n     *\n     * @returns {BatchScheduler} The singleton instance.\n     *\n     * @example\n     * const scheduler = BatchScheduler.getInstance();\n     */\n    static getInstance() {\n        if (BatchScheduler.instance === null) {\n            BatchScheduler.instance = new BatchScheduler();\n        }\n        return BatchScheduler.instance;\n    }\n    /**\n     * Schedules a task for execution. Supports task prioritization, cancellation, and error handling.\n     *\n     * @param {TaskFunction} task - The function to be executed.\n     * @param {TaskOptions} [options={}] - Optional settings for the task.\n     *\n     * @throws {Error} If the scheduler is shutting down.\n     *\n     * @example\n     * // Schedule a simple task\n     * scheduler.schedule(() => {\n     *     console.debug('Task executed.');\n     * });\n     *\n     * @example\n     * // Schedule a task with high priority\n     * scheduler.schedule(() => {\n     *     console.debug('High-priority task executed.');\n     * }, { priority: 5 });\n     *\n     * @example\n     * // Schedule a task with an error handler\n     * scheduler.schedule(() => {\n     *     throw new Error('Task error');\n     * }, {\n     *     onError: (error) => {\n     *         console.error('Handled task error:', error);\n     *     },\n     * });\n     *\n     * @example\n     * // Schedule a task with a cancellation token\n     * const token = scheduler.createCancellationToken();\n     * scheduler.schedule(() => {\n     *     console.debug('This task may be cancelled.');\n     * }, { cancellationToken: token });\n     *\n     * // Cancel the task before it executes\n     * token.cancel();\n     */\n    schedule(task, options = {}) {\n        if (this.isShuttingDown) {\n            throw new Error('Cannot schedule tasks after shutdown has been initiated.');\n        }\n        options.name = options.name || 'anonymous';\n        const { priority = 0, onError, cancellationToken: token, name = 'anonymous', } = options;\n        this.taskQueue.push({ task, priority, onError, token });\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Task scheduled: ${name} (priority: ${priority})`);\n        // Sort the task queue by priority in descending order.\n        this.taskQueue.sort((a, b) => b.priority - a.priority);\n        if (!this.isScheduled && this.batchDepth === 0) {\n            this.isScheduled = true;\n            queueMicrotask(() => {\n                this.currentBatchPromise = this.processQueue();\n            });\n        }\n    }\n    /**\n     * Begins a new batching context. Tasks scheduled within this context\n     * will be deferred until the batch ends.\n     *\n     * @example\n     * scheduler.startBatch();\n     * // Schedule tasks within the batch\n     * scheduler.schedule(() => {\n     *     console.debug('Task within batch.');\n     * });\n     * // End the batching context\n     * scheduler.endBatch();\n     */\n    startBatch() {\n        this.batchDepth++;\n    }\n    /**\n     * Ends the current batching context. If all batching contexts have ended,\n     * pending tasks will be processed.\n     *\n     * @throws {Error} If there is no batching context to end.\n     *\n     * @example\n     * // Assuming a batching context has been started\n     * scheduler.endBatch();\n     */\n    endBatch() {\n        if (this.batchDepth === 0) {\n            throw new Error('No batch to end.');\n        }\n        this.batchDepth--;\n        if (this.batchDepth === 0 && this.taskQueue.length > 0) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Batch ended, processing tasks (${this.taskQueue.length})`);\n            this.currentBatchPromise = this.processQueue();\n        }\n    }\n    /**\n     * Processes the task queue, executing tasks in order of priority.\n     */\n    async processQueue() {\n        var _a;\n        this.isScheduled = false;\n        if (this.batchDepth > 0 || this.isShuttingDown) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Batch depth is greater than 0 or shutting down, returning\");\n            return;\n        }\n        const tasksToProcess = this.taskQueue;\n        this.taskQueue = [];\n        for (const scheduledTask of tasksToProcess) {\n            if ((_a = scheduledTask.token) === null || _a === void 0 ? void 0 : _a.isCancelled) {\n                (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Task is cancelled, skipping\");\n                continue;\n            }\n            try {\n                const result = scheduledTask.task();\n                // If the task returns a promise, we need to wait for it\n                if (result instanceof Promise) {\n                    scheduledTask.promise = result;\n                    await result;\n                    (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Task completed: ${scheduledTask.name}`);\n                }\n                else {\n                    // For synchronous tasks, we create a resolved promise\n                    scheduledTask.promise = Promise.resolve();\n                }\n            }\n            catch (error) {\n                (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Task failed: ${scheduledTask.name}`);\n                if (scheduledTask.onError) {\n                    try {\n                        scheduledTask.onError(error);\n                    }\n                    catch (errorInHandler) {\n                        console.error('Error in onError handler:', errorInHandler);\n                    }\n                }\n                else {\n                    console.error('Error in batched task:', error);\n                }\n            }\n        }\n        if (this.taskQueue.length > 0 && this.batchDepth === 0) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Task queue is not empty, scheduling next batch\");\n            this.isScheduled = true;\n            queueMicrotask(() => this.processQueue());\n        }\n    }\n    /**\n     * Cancels all pending tasks and prevents new tasks from being scheduled.\n     *\n     * @example\n     * scheduler.shutdown();\n     */\n    shutdown() {\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Shutting down scheduler');\n        this.isShuttingDown = true;\n        this.taskQueue = [];\n    }\n    /**\n     * Immediately processes all pending tasks in the queue.\n     *\n     * @throws {Error} If called within a batching context.\n     *\n     * @example\n     * scheduler.flush();\n     */\n    flush() {\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Flushing scheduler');\n        if (this.batchDepth > 0) {\n            throw new Error('Cannot flush while in a batching context.');\n        }\n        // Trigger completion of current batch without blocking\n        if (this.currentBatchPromise) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Completing current batch');\n            this.currentBatchPromise.finally();\n        }\n        // Process any remaining tasks without blocking\n        if (this.taskQueue.length > 0) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Processing remaining tasks');\n            this.currentBatchPromise = this.processQueue();\n            this.currentBatchPromise.finally();\n        }\n    }\n    /**\n     * Creates a cancellation token that can be used to cancel a scheduled task.\n     *\n     * @returns {CancellationToken} A new cancellation token.\n     *\n     * @example\n     * const token = scheduler.createCancellationToken();\n     * scheduler.schedule(() => {\n     *     console.debug('This task may be cancelled.');\n     * }, { cancellationToken: token });\n     *\n     * // Cancel the task before it executes\n     * token.cancel();\n     */\n    createCancellationToken() {\n        let isCancelled = false;\n        return {\n            cancel: () => {\n                isCancelled = true;\n            },\n            get isCancelled() {\n                return isCancelled;\n            },\n        };\n    }\n}\n/**\n * Singleton instance of the BatchScheduler.\n */\nBatchScheduler.instance = null;\n/**\n * Executes a function within a batching context. Tasks scheduled within the function\n * will be deferred until the batch ends.\n *\n * @param {() => T} fn - The function to execute.\n *\n * @returns {T} The return value of the executed function.\n *\n * @template T\n *\n * @example\n * batchUpdates(() => {\n *     // Schedule tasks within the batch\n *     scheduler.schedule(() => {\n *         console.debug('Task within batch.');\n *     });\n *     // Other synchronous operations\n *     console.debug('Batching operations complete.');\n * });\n */\nfunction batchUpdates(fn) {\n    const scheduler = BatchScheduler.getInstance();\n    (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Starting batch...');\n    scheduler.startBatch();\n    try {\n        return fn();\n    }\n    finally {\n        scheduler.endBatch();\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Batch ended.');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxPQUFPLEVBQUU7UUFDdEMsQ0FBQztRQUVELCtDQUErQztRQUMvQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzVCLDhDQUFRLENBQUMsNEJBQTRCLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQy9DLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN2QyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7O09BYUc7SUFDSSx1QkFBdUI7UUFDMUIsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBRXhCLE9BQU87WUFDSCxNQUFNLEVBQUUsR0FBRyxFQUFFO2dCQUNULFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDdkIsQ0FBQztZQUNELElBQUksV0FBVztnQkFDWCxPQUFPLFdBQVcsQ0FBQztZQUN2QixDQUFDO1NBQ0osQ0FBQztJQUNOLENBQUM7O0FBaFJEOztHQUVHO0FBQ1ksdUJBQVEsR0FBMEIsSUFBSSxDQUFDO0FBZ1IxRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNJLFNBQVMsWUFBWSxDQUFJLEVBQVc7SUFDdkMsTUFBTSxTQUFTLEdBQUcsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQy9DLDhDQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUM5QixTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFdkIsSUFBSSxDQUFDO1FBQ0QsT0FBTyxFQUFFLEVBQUUsQ0FBQztJQUNoQixDQUFDO1lBQVMsQ0FBQztRQUNQLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNyQiw4Q0FBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGF2YXRpanMvYmF0Y2gtc2NoZWR1bGVyLy4vc3JjL2JhdGNoLXNjaGVkdWxlci50cz8wNzcwIl0sInNvdXJjZXNDb250ZW50IjpbIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDI0IEtoYWxlZCBTYW1lZXIgPGtoYWxlZC5zbXFAaG90bWFpbC5jb20+LlxuICpcbiAqIFRoaXMgc291cmNlIGNvZGUgaXMgbGljZW5zZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlIGZvdW5kIGluIHRoZVxuICogTElDRU5TRSBmaWxlIGluIHRoZSByb290IGRpcmVjdG9yeSBvZiB0aGlzIHNvdXJjZSB0cmVlLlxuICoqL1xuXG5pbXBvcnQgeyBkZWJ1Z0xvZyB9IGZyb20gJy4vZGV2JztcblxuLyoqXG4gKiBUeXBlIGRlZmluaXRpb25zIGZvciB0YXNrIGZ1bmN0aW9ucyBhbmQgcHJpb3JpdGllcy5cbiAqL1xudHlwZSBUYXNrRnVuY3Rpb24gPSAoKSA9PiB2b2lkIHwgUHJvbWlzZTx2b2lkPjtcbnR5cGUgUHJpb3JpdHkgPSBudW1iZXI7XG5cbi8qKlxuICogSW50ZXJmYWNlIHJlcHJlc2VudGluZyB0aGUgb3B0aW9ucyBhdmFpbGFibGUgd2hlbiBzY2hlZHVsaW5nIGEgdGFzay5cbiAqL1xuaW50ZXJmYWNlIFRhc2tPcHRpb25zIHtcbiAgICAvKipcbiAgICAgKiBUaGUgcHJpb3JpdHkgbGV2ZWwgb2YgdGhlIHRhc2suIEhpZ2hlciBudW1iZXJzIGluZGljYXRlIGhpZ2hlciBwcmlvcml0eS5cbiAgICAgKiBAZGVmYXVsdCAwXG4gICAgICovXG4gICAgcHJpb3JpdHk/OiBQcmlvcml0eTtcblxuICAgIC8qKlxuICAgICAqIENhbGxiYWNrIGZ1bmN0aW9uIHRvIGhhbmRsZSBhbnkgZXJyb3JzIHRoYXQgb2NjdXIgZHVyaW5nIHRhc2sgZXhlY3V0aW9uLlxuICAgICAqL1xuICAgIG9uRXJyb3I/OiAoZXJyb3I6IHVua25vd24pID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBBIGNhbmNlbGxhdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCB0aGUgc2NoZWR1bGVkIHRhc2sgYmVmb3JlIGl0IGV4ZWN1dGVzLlxuICAgICAqL1xuICAgIGNhbmNlbGxhdGlvblRva2VuPzogQ2FuY2VsbGF0aW9uVG9rZW47XG5cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdGFzay4gVGhpcyBpcyB1c2VkIGZvciBkZWJ1Z2dpbmcgcHVycG9zZXMuXG4gICAgICovXG4gICAgbmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgcmVwcmVzZW50aW5nIGEgc2NoZWR1bGVkIHRhc2sgd2l0aGluIHRoZSB0YXNrIHF1ZXVlLlxuICovXG5pbnRlcmZhY2UgU2NoZWR1bGVkVGFzayB7XG4gICAgdGFzazogVGFza0Z1bmN0aW9uO1xuICAgIHByaW9yaXR5OiBQcmlvcml0eTtcbiAgICBvbkVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xuICAgIHRva2VuPzogQ2FuY2VsbGF0aW9uVG9rZW47XG4gICAgcHJvbWlzZT86IFByb21pc2U8dm9pZD47XG4gICAgbmFtZT86IHN0cmluZztcbn1cblxuLyoqXG4gKiBJbnRlcmZhY2UgcmVwcmVzZW50aW5nIGEgY2FuY2VsbGF0aW9uIHRva2VuIGZvciBhIHNjaGVkdWxlZCB0YXNrLlxuICovXG5pbnRlcmZhY2UgQ2FuY2VsbGF0aW9uVG9rZW4ge1xuICAgIC8qKlxuICAgICAqIENhbmNlbHMgdGhlIHNjaGVkdWxlZCB0YXNrLlxuICAgICAqL1xuICAgIGNhbmNlbDogKCkgPT4gdm9pZDtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0YXNrIGhhcyBiZWVuIGNhbmNlbGxlZC5cbiAgICAgKi9cbiAgICBpc0NhbmNlbGxlZDogYm9vbGVhbjtcbn1cblxuXG4vKipcbiAqIEJhdGNoU2NoZWR1bGVyIGlzIHJlc3BvbnNpYmxlIGZvciBtYW5hZ2luZyBhbmQgZXhlY3V0aW5nIHRhc2tzIGluIGJhdGNoZXMuXG4gKiBJdCBzdXBwb3J0cyB0YXNrIHByaW9yaXRpemF0aW9uLCBjYW5jZWxsYXRpb24sIGVycm9yIGhhbmRsaW5nLCBhbmQgYmF0Y2hpbmcgY29udGV4dHMuXG4gKlxuICogQGV4YW1wbGVcbiAqIC8vIFJldHJpZXZlIHRoZSBzaW5nbGV0b24gaW5zdGFuY2VcbiAqIGNvbnN0IHNjaGVkdWxlciA9IEJhdGNoU2NoZWR1bGVyLmdldEluc3RhbmNlKCk7XG4gKlxuICogLy8gU2NoZWR1bGUgYSB0YXNrXG4gKiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4ge1xuICogICAgIGNvbnNvbGUuZGVidWcoJ1Rhc2sgZXhlY3V0ZWQuJyk7XG4gKiB9KTtcbiAqXG4gKiAvLyBTY2hlZHVsZSBhIGhpZ2gtcHJpb3JpdHkgdGFza1xuICogc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAqICAgICBjb25zb2xlLmRlYnVnKCdIaWdoLXByaW9yaXR5IHRhc2sgZXhlY3V0ZWQuJyk7XG4gKiB9LCB7IHByaW9yaXR5OiAxMCB9KTtcbiAqXG4gKiAvLyBTdGFydCBhIGJhdGNoaW5nIGNvbnRleHRcbiAqIHNjaGVkdWxlci5zdGFydEJhdGNoKCk7XG4gKlxuICogLy8gU2NoZWR1bGUgdGFza3Mgd2l0aGluIHRoZSBiYXRjaFxuICogc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAqICAgICBjb25zb2xlLmRlYnVnKCdUYXNrIHdpdGhpbiBiYXRjaC4nKTtcbiAqIH0pO1xuICpcbiAqIC8vIEVuZCB0aGUgYmF0Y2hpbmcgY29udGV4dCB0byBwcm9jZXNzIHRhc2tzXG4gKiBzY2hlZHVsZXIuZW5kQmF0Y2goKTtcbiAqXG4gKiAvLyBGbHVzaCBwZW5kaW5nIHRhc2tzIGltbWVkaWF0ZWx5XG4gKiBzY2hlZHVsZXIuZmx1c2goKTtcbiAqXG4gKiAvLyBTaHV0ZG93biB0aGUgc2NoZWR1bGVyXG4gKiBzY2hlZHVsZXIuc2h1dGRvd24oKTtcbiAqL1xuZXhwb3J0IGNsYXNzIEJhdGNoU2NoZWR1bGVyIHtcbiAgICAvKipcbiAgICAgKiBTaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIEJhdGNoU2NoZWR1bGVyLlxuICAgICAqL1xuICAgIHByaXZhdGUgc3RhdGljIGluc3RhbmNlOiBCYXRjaFNjaGVkdWxlciB8IG51bGwgPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogRGVwdGggb2YgdGhlIGN1cnJlbnQgYmF0Y2hpbmcgY29udGV4dC5cbiAgICAgKi9cbiAgICBwcml2YXRlIGJhdGNoRGVwdGggPSAwO1xuXG4gICAgLyoqXG4gICAgICogUXVldWUgb2YgdGFza3Mgc2NoZWR1bGVkIGZvciBleGVjdXRpb24uXG4gICAgICovXG4gICAgcHJpdmF0ZSB0YXNrUXVldWU6IFNjaGVkdWxlZFRhc2tbXSA9IFtdO1xuXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHdoZXRoZXIgdGhlIHRhc2sgcXVldWUgaXMgc2NoZWR1bGVkIGZvciBwcm9jZXNzaW5nLlxuICAgICAqL1xuICAgIHByaXZhdGUgaXNTY2hlZHVsZWQgPSBmYWxzZTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSBzY2hlZHVsZXIgaXMgc2h1dHRpbmcgZG93bi5cbiAgICAgKi9cbiAgICBwcml2YXRlIGlzU2h1dHRpbmdEb3duID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBDdXJyZW50IGJhdGNoIHByb21pc2UuXG4gICAgICogQHByaXZhdGVcbiAgICAgKi9cbiAgICBwcml2YXRlIGN1cnJlbnRCYXRjaFByb21pc2U6IFByb21pc2U8dm9pZD4gfCBudWxsID0gbnVsbDtcblxuXG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSBzaW5nbGV0b24gaW5zdGFuY2Ugb2YgdGhlIEJhdGNoU2NoZWR1bGVyLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0JhdGNoU2NoZWR1bGVyfSBUaGUgc2luZ2xldG9uIGluc3RhbmNlLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBjb25zdCBzY2hlZHVsZXIgPSBCYXRjaFNjaGVkdWxlci5nZXRJbnN0YW5jZSgpO1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQmF0Y2hTY2hlZHVsZXIge1xuICAgICAgICBpZiAoQmF0Y2hTY2hlZHVsZXIuaW5zdGFuY2UgPT09IG51bGwpIHtcbiAgICAgICAgICAgIEJhdGNoU2NoZWR1bGVyLmluc3RhbmNlID0gbmV3IEJhdGNoU2NoZWR1bGVyKCk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gQmF0Y2hTY2hlZHVsZXIuaW5zdGFuY2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogU2NoZWR1bGVzIGEgdGFzayBmb3IgZXhlY3V0aW9uLiBTdXBwb3J0cyB0YXNrIHByaW9yaXRpemF0aW9uLCBjYW5jZWxsYXRpb24sIGFuZCBlcnJvciBoYW5kbGluZy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB7VGFza0Z1bmN0aW9ufSB0YXNrIC0gVGhlIGZ1bmN0aW9uIHRvIGJlIGV4ZWN1dGVkLlxuICAgICAqIEBwYXJhbSB7VGFza09wdGlvbnN9IFtvcHRpb25zPXt9XSAtIE9wdGlvbmFsIHNldHRpbmdzIGZvciB0aGUgdGFzay5cbiAgICAgKlxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiB0aGUgc2NoZWR1bGVyIGlzIHNodXR0aW5nIGRvd24uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNjaGVkdWxlIGEgc2ltcGxlIHRhc2tcbiAgICAgKiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmRlYnVnKCdUYXNrIGV4ZWN1dGVkLicpO1xuICAgICAqIH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTY2hlZHVsZSBhIHRhc2sgd2l0aCBoaWdoIHByaW9yaXR5XG4gICAgICogc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5kZWJ1ZygnSGlnaC1wcmlvcml0eSB0YXNrIGV4ZWN1dGVkLicpO1xuICAgICAqIH0sIHsgcHJpb3JpdHk6IDUgfSk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNjaGVkdWxlIGEgdGFzayB3aXRoIGFuIGVycm9yIGhhbmRsZXJcbiAgICAgKiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4ge1xuICAgICAqICAgICB0aHJvdyBuZXcgRXJyb3IoJ1Rhc2sgZXJyb3InKTtcbiAgICAgKiB9LCB7XG4gICAgICogICAgIG9uRXJyb3I6IChlcnJvcikgPT4ge1xuICAgICAqICAgICAgICAgY29uc29sZS5lcnJvcignSGFuZGxlZCB0YXNrIGVycm9yOicsIGVycm9yKTtcbiAgICAgKiAgICAgfSxcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2NoZWR1bGUgYSB0YXNrIHdpdGggYSBjYW5jZWxsYXRpb24gdG9rZW5cbiAgICAgKiBjb25zdCB0b2tlbiA9IHNjaGVkdWxlci5jcmVhdGVDYW5jZWxsYXRpb25Ub2tlbigpO1xuICAgICAqIHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUuZGVidWcoJ1RoaXMgdGFzayBtYXkgYmUgY2FuY2VsbGVkLicpO1xuICAgICAqIH0sIHsgY2FuY2VsbGF0aW9uVG9rZW46IHRva2VuIH0pO1xuICAgICAqXG4gICAgICogLy8gQ2FuY2VsIHRoZSB0YXNrIGJlZm9yZSBpdCBleGVjdXRlc1xuICAgICAqIHRva2VuLmNhbmNlbCgpO1xuICAgICAqL1xuICAgIHB1YmxpYyBzY2hlZHVsZSh0YXNrOiBUYXNrRnVuY3Rpb24sIG9wdGlvbnM6IFRhc2tPcHRpb25zID0ge30pOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuaXNTaHV0dGluZ0Rvd24pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHNjaGVkdWxlIHRhc2tzIGFmdGVyIHNodXRkb3duIGhhcyBiZWVuIGluaXRpYXRlZC4nKTtcbiAgICAgICAgfVxuICAgICAgICBvcHRpb25zLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgJ2Fub255bW91cyc7XG5cbiAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcHJpb3JpdHkgPSAwLFxuICAgICAgICAgICAgb25FcnJvcixcbiAgICAgICAgICAgIGNhbmNlbGxhdGlvblRva2VuOiB0b2tlbixcbiAgICAgICAgICAgIG5hbWUgPSAnYW5vbnltb3VzJyxcbiAgICAgICAgfSA9IG9wdGlvbnM7XG5cbiAgICAgICAgdGhpcy50YXNrUXVldWUucHVzaCh7IHRhc2ssIHByaW9yaXR5LCBvbkVycm9yLCB0b2tlbiB9KTtcbiAgICAgICAgZGVidWdMb2coYFRhc2sgc2NoZWR1bGVkOiAke25hbWV9IChwcmlvcml0eTogJHtwcmlvcml0eX0pYCk7XG4gICAgICAgIC8vIFNvcnQgdGhlIHRhc2sgcXVldWUgYnkgcHJpb3JpdHkgaW4gZGVzY2VuZGluZyBvcmRlci5cbiAgICAgICAgdGhpcy50YXNrUXVldWUuc29ydCgoYSwgYikgPT4gYi5wcmlvcml0eSAtIGEucHJpb3JpdHkpO1xuXG4gICAgICAgIGlmICghdGhpcy5pc1NjaGVkdWxlZCAmJiB0aGlzLmJhdGNoRGVwdGggPT09IDApIHtcbiAgICAgICAgICAgIHRoaXMuaXNTY2hlZHVsZWQgPSB0cnVlO1xuICAgICAgICAgICAgcXVldWVNaWNyb3Rhc2soKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEJhdGNoUHJvbWlzZSA9IHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIEJlZ2lucyBhIG5ldyBiYXRjaGluZyBjb250ZXh0LiBUYXNrcyBzY2hlZHVsZWQgd2l0aGluIHRoaXMgY29udGV4dFxuICAgICAqIHdpbGwgYmUgZGVmZXJyZWQgdW50aWwgdGhlIGJhdGNoIGVuZHMuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIHNjaGVkdWxlci5zdGFydEJhdGNoKCk7XG4gICAgICogLy8gU2NoZWR1bGUgdGFza3Mgd2l0aGluIHRoZSBiYXRjaFxuICAgICAqIHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUuZGVidWcoJ1Rhc2sgd2l0aGluIGJhdGNoLicpO1xuICAgICAqIH0pO1xuICAgICAqIC8vIEVuZCB0aGUgYmF0Y2hpbmcgY29udGV4dFxuICAgICAqIHNjaGVkdWxlci5lbmRCYXRjaCgpO1xuICAgICAqL1xuICAgIHB1YmxpYyBzdGFydEJhdGNoKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmJhdGNoRGVwdGgrKztcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBFbmRzIHRoZSBjdXJyZW50IGJhdGNoaW5nIGNvbnRleHQuIElmIGFsbCBiYXRjaGluZyBjb250ZXh0cyBoYXZlIGVuZGVkLFxuICAgICAqIHBlbmRpbmcgdGFza3Mgd2lsbCBiZSBwcm9jZXNzZWQuXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlcmUgaXMgbm8gYmF0Y2hpbmcgY29udGV4dCB0byBlbmQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIEFzc3VtaW5nIGEgYmF0Y2hpbmcgY29udGV4dCBoYXMgYmVlbiBzdGFydGVkXG4gICAgICogc2NoZWR1bGVyLmVuZEJhdGNoKCk7XG4gICAgICovXG4gICAgcHVibGljIGVuZEJhdGNoKCk6IHZvaWQge1xuICAgICAgICBpZiAodGhpcy5iYXRjaERlcHRoID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIGJhdGNoIHRvIGVuZC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuYmF0Y2hEZXB0aC0tO1xuXG4gICAgICAgIGlmICh0aGlzLmJhdGNoRGVwdGggPT09IDAgJiYgdGhpcy50YXNrUXVldWUubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZGVidWdMb2coYEJhdGNoIGVuZGVkLCBwcm9jZXNzaW5nIHRhc2tzICgke3RoaXMudGFza1F1ZXVlLmxlbmd0aH0pYCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRCYXRjaFByb21pc2UgPSB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHJvY2Vzc2VzIHRoZSB0YXNrIHF1ZXVlLCBleGVjdXRpbmcgdGFza3MgaW4gb3JkZXIgb2YgcHJpb3JpdHkuXG4gICAgICovXG4gICAgcHJpdmF0ZSBhc3luYyBwcm9jZXNzUXVldWUoKTogUHJvbWlzZTx2b2lkPiB7XG4gICAgICAgIHRoaXMuaXNTY2hlZHVsZWQgPSBmYWxzZTtcblxuICAgICAgICBpZiAodGhpcy5iYXRjaERlcHRoID4gMCB8fCB0aGlzLmlzU2h1dHRpbmdEb3duKSB7XG4gICAgICAgICAgICBkZWJ1Z0xvZyhcIkJhdGNoIGRlcHRoIGlzIGdyZWF0ZXIgdGhhbiAwIG9yIHNodXR0aW5nIGRvd24sIHJldHVybmluZ1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHRhc2tzVG9Qcm9jZXNzID0gdGhpcy50YXNrUXVldWU7XG4gICAgICAgIHRoaXMudGFza1F1ZXVlID0gW107XG5cbiAgICAgICAgZm9yIChjb25zdCBzY2hlZHVsZWRUYXNrIG9mIHRhc2tzVG9Qcm9jZXNzKSB7XG4gICAgICAgICAgICBpZiAoc2NoZWR1bGVkVGFzay50b2tlbj8uaXNDYW5jZWxsZWQpIHtcbiAgICAgICAgICAgICAgICBkZWJ1Z0xvZyhcIlRhc2sgaXMgY2FuY2VsbGVkLCBza2lwcGluZ1wiKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBzY2hlZHVsZWRUYXNrLnRhc2soKTtcblxuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB0YXNrIHJldHVybnMgYSBwcm9taXNlLCB3ZSBuZWVkIHRvIHdhaXQgZm9yIGl0XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkVGFzay5wcm9taXNlID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBhd2FpdCByZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIGRlYnVnTG9nKGBUYXNrIGNvbXBsZXRlZDogJHtzY2hlZHVsZWRUYXNrLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gRm9yIHN5bmNocm9ub3VzIHRhc2tzLCB3ZSBjcmVhdGUgYSByZXNvbHZlZCBwcm9taXNlXG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZFRhc2sucHJvbWlzZSA9IFByb21pc2UucmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgZGVidWdMb2coYFRhc2sgZmFpbGVkOiAke3NjaGVkdWxlZFRhc2submFtZX1gKTtcbiAgICAgICAgICAgICAgICBpZiAoc2NoZWR1bGVkVGFzay5vbkVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZWRUYXNrLm9uRXJyb3IoZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChlcnJvckluSGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgaW4gb25FcnJvciBoYW5kbGVyOicsIGVycm9ySW5IYW5kbGVyKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIGJhdGNoZWQgdGFzazonLCBlcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHRoaXMudGFza1F1ZXVlLmxlbmd0aCA+IDAgJiYgdGhpcy5iYXRjaERlcHRoID09PSAwKSB7XG4gICAgICAgICAgICBkZWJ1Z0xvZyhcIlRhc2sgcXVldWUgaXMgbm90IGVtcHR5LCBzY2hlZHVsaW5nIG5leHQgYmF0Y2hcIik7XG4gICAgICAgICAgICB0aGlzLmlzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHRoaXMucHJvY2Vzc1F1ZXVlKCkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhbGwgcGVuZGluZyB0YXNrcyBhbmQgcHJldmVudHMgbmV3IHRhc2tzIGZyb20gYmVpbmcgc2NoZWR1bGVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzY2hlZHVsZXIuc2h1dGRvd24oKTtcbiAgICAgKi9cbiAgICBwdWJsaWMgc2h1dGRvd24oKTogdm9pZCB7XG4gICAgICAgIGRlYnVnTG9nKCdTaHV0dGluZyBkb3duIHNjaGVkdWxlcicpO1xuICAgICAgICB0aGlzLmlzU2h1dHRpbmdEb3duID0gdHJ1ZTtcbiAgICAgICAgdGhpcy50YXNrUXVldWUgPSBbXTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBJbW1lZGlhdGVseSBwcm9jZXNzZXMgYWxsIHBlbmRpbmcgdGFza3MgaW4gdGhlIHF1ZXVlLlxuICAgICAqXG4gICAgICogQHRocm93cyB7RXJyb3J9IElmIGNhbGxlZCB3aXRoaW4gYSBiYXRjaGluZyBjb250ZXh0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzY2hlZHVsZXIuZmx1c2goKTtcbiAgICAgKi9cbiAgICBwdWJsaWMgZmx1c2goKTogdm9pZCB7XG4gICAgICAgIGRlYnVnTG9nKCdGbHVzaGluZyBzY2hlZHVsZXInKTtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hEZXB0aCA+IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IGZsdXNoIHdoaWxlIGluIGEgYmF0Y2hpbmcgY29udGV4dC4nKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFRyaWdnZXIgY29tcGxldGlvbiBvZiBjdXJyZW50IGJhdGNoIHdpdGhvdXQgYmxvY2tpbmdcbiAgICAgICAgaWYgKHRoaXMuY3VycmVudEJhdGNoUHJvbWlzZSkge1xuICAgICAgICAgICAgZGVidWdMb2coJ0NvbXBsZXRpbmcgY3VycmVudCBiYXRjaCcpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50QmF0Y2hQcm9taXNlLmZpbmFsbHkoKVxuICAgICAgICB9XG5cbiAgICAgICAgLy8gUHJvY2VzcyBhbnkgcmVtYWluaW5nIHRhc2tzIHdpdGhvdXQgYmxvY2tpbmdcbiAgICAgICAgaWYgKHRoaXMudGFza1F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRlYnVnTG9nKCdQcm9jZXNzaW5nIHJlbWFpbmluZyB0YXNrcycpO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50QmF0Y2hQcm9taXNlID0gdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEJhdGNoUHJvbWlzZS5maW5hbGx5KCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2FuY2VsbGF0aW9uIHRva2VuIHRoYXQgY2FuIGJlIHVzZWQgdG8gY2FuY2VsIGEgc2NoZWR1bGVkIHRhc2suXG4gICAgICpcbiAgICAgKiBAcmV0dXJucyB7Q2FuY2VsbGF0aW9uVG9rZW59IEEgbmV3IGNhbmNlbGxhdGlvbiB0b2tlbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3QgdG9rZW4gPSBzY2hlZHVsZXIuY3JlYXRlQ2FuY2VsbGF0aW9uVG9rZW4oKTtcbiAgICAgKiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmRlYnVnKCdUaGlzIHRhc2sgbWF5IGJlIGNhbmNlbGxlZC4nKTtcbiAgICAgKiB9LCB7IGNhbmNlbGxhdGlvblRva2VuOiB0b2tlbiB9KTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdGFzayBiZWZvcmUgaXQgZXhlY3V0ZXNcbiAgICAgKiB0b2tlbi5jYW5jZWwoKTtcbiAgICAgKi9cbiAgICBwdWJsaWMgY3JlYXRlQ2FuY2VsbGF0aW9uVG9rZW4oKTogQ2FuY2VsbGF0aW9uVG9rZW4ge1xuICAgICAgICBsZXQgaXNDYW5jZWxsZWQgPSBmYWxzZTtcblxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgY2FuY2VsOiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaXNDYW5jZWxsZWQgPSB0cnVlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGdldCBpc0NhbmNlbGxlZCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaXNDYW5jZWxsZWQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbn1cblxuLyoqXG4gKiBFeGVjdXRlcyBhIGZ1bmN0aW9uIHdpdGhpbiBhIGJhdGNoaW5nIGNvbnRleHQuIFRhc2tzIHNjaGVkdWxlZCB3aXRoaW4gdGhlIGZ1bmN0aW9uXG4gKiB3aWxsIGJlIGRlZmVycmVkIHVudGlsIHRoZSBiYXRjaCBlbmRzLlxuICpcbiAqIEBwYXJhbSB7KCkgPT4gVH0gZm4gLSBUaGUgZnVuY3Rpb24gdG8gZXhlY3V0ZS5cbiAqXG4gKiBAcmV0dXJucyB7VH0gVGhlIHJldHVybiB2YWx1ZSBvZiB0aGUgZXhlY3V0ZWQgZnVuY3Rpb24uXG4gKlxuICogQHRlbXBsYXRlIFRcbiAqXG4gKiBAZXhhbXBsZVxuICogYmF0Y2hVcGRhdGVzKCgpID0+IHtcbiAqICAgICAvLyBTY2hlZHVsZSB0YXNrcyB3aXRoaW4gdGhlIGJhdGNoXG4gKiAgICAgc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAqICAgICAgICAgY29uc29sZS5kZWJ1ZygnVGFzayB3aXRoaW4gYmF0Y2guJyk7XG4gKiAgICAgfSk7XG4gKiAgICAgLy8gT3RoZXIgc3luY2hyb25vdXMgb3BlcmF0aW9uc1xuICogICAgIGNvbnNvbGUuZGVidWcoJ0JhdGNoaW5nIG9wZXJhdGlvbnMgY29tcGxldGUuJyk7XG4gKiB9KTtcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGJhdGNoVXBkYXRlczxUPihmbjogKCkgPT4gVCk6IFQge1xuICAgIGNvbnN0IHNjaGVkdWxlciA9IEJhdGNoU2NoZWR1bGVyLmdldEluc3RhbmNlKCk7XG4gICAgZGVidWdMb2coJ1N0YXJ0aW5nIGJhdGNoLi4uJyk7XG4gICAgc2NoZWR1bGVyLnN0YXJ0QmF0Y2goKTtcblxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBmbigpO1xuICAgIH0gZmluYWxseSB7XG4gICAgICAgIHNjaGVkdWxlci5lbmRCYXRjaCgpO1xuICAgICAgICBkZWJ1Z0xvZygnQmF0Y2ggZW5kZWQuJyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/batch-scheduler.ts\n");

/***/ }),

/***/ "./src/dev.ts":
/*!********************!*\
  !*** ./src/dev.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   debugLog: () => (/* binding */ debugLog),\n/* harmony export */   isDev: () => (/* binding */ isDev),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/**\n * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n **/\nconst isDev = true;\nfunction assert(condition, message) {\n    if ( true && !condition) {\n        throw new Error(message);\n    }\n}\nfunction warn(message) {\n    if (true) {\n        console.warn(`[${\"@avatijs/batch-scheduler\"}]: ${message}`);\n    }\n}\nfunction debugLog(message, ...args) {\n    if (true) {\n        const now = new Date();\n        // @ts-ignore\n        const timeWithMs = now.toISOString().split('T')[1].slice(0, -1);\n        console.log(`${timeWithMs} [${\"@avatijs/batch-scheduler\"}@${\"0.1.0\"}]: ${message}`, ...args);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGV2LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7SUFLSTtBQVlHLE1BQU0sS0FBSyxHQUFHLElBQU8sQ0FBQztBQUV0QixTQUFTLE1BQU0sQ0FBQyxTQUFjLEVBQUUsT0FBZTtJQUNsRCxJQUFJLEtBQU8sSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3hCLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDN0IsQ0FBQztBQUNMLENBQUM7QUFFTSxTQUFTLElBQUksQ0FBQyxPQUFlO0lBQ2hDLElBQUksSUFBTyxFQUFFLENBQUM7UUFDVixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksMEJBQWdCLE1BQU0sT0FBTyxFQUFFLENBQUMsQ0FBQztJQUN0RCxDQUFDO0FBQ0wsQ0FBQztBQUVNLFNBQVMsUUFBUSxDQUFDLE9BQWUsRUFBRSxHQUFHLElBQVc7SUFDcEQsSUFBSSxJQUFzQixFQUFFLENBQUM7UUFDekIsTUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN2QixhQUFhO1FBQ2IsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsS0FBSywwQkFBZ0IsSUFBSSxPQUFXLE1BQU0sT0FBTyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUMzRixDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BhdmF0aWpzL2JhdGNoLXNjaGVkdWxlci8uL3NyYy9kZXYudHM/Yjg4ZSJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCBLaGFsZWQgU2FtZWVyIDxraGFsZWQuc21xQGhvdG1haWwuY29tPi5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqKi9cblxuXG5kZWNsYXJlIGdsb2JhbCB7XG4gICAgbGV0IF9fREVWX186IGJvb2xlYW47XG4gICAgbGV0IF9fU0lMRU5UX186IGJvb2xlYW47XG4gICAgbGV0IF9fVkVSU0lPTl9fOiBzdHJpbmc7XG4gICAgbGV0IF9fUEFDS0FHRV9OQU1FX186IHN0cmluZztcbiAgICBsZXQgX19URVNUX186IGJvb2xlYW47XG4gICAgbGV0IF9fQlJPV1NFUl9fOiBib29sZWFuO1xufVxuXG5leHBvcnQgY29uc3QgaXNEZXYgPSBfX0RFVl9fO1xuXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0KGNvbmRpdGlvbjogYW55LCBtZXNzYWdlOiBzdHJpbmcpOiBhc3NlcnRzIGNvbmRpdGlvbiB7XG4gICAgaWYgKF9fREVWX18gJiYgIWNvbmRpdGlvbikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobWVzc2FnZSk7XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gd2FybihtZXNzYWdlOiBzdHJpbmcpOiB2b2lkIHtcbiAgICBpZiAoX19ERVZfXykge1xuICAgICAgICBjb25zb2xlLndhcm4oYFske19fUEFDS0FHRV9OQU1FX199XTogJHttZXNzYWdlfWApO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGRlYnVnTG9nKG1lc3NhZ2U6IHN0cmluZywgLi4uYXJnczogYW55W10pOiB2b2lkIHtcbiAgICBpZiAoX19ERVZfXyAmJiAhX19TSUxFTlRfXykge1xuICAgICAgICBjb25zdCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IHRpbWVXaXRoTXMgPSBub3cudG9JU09TdHJpbmcoKS5zcGxpdCgnVCcpWzFdLnNsaWNlKDAsIC0xKTtcbiAgICAgICAgY29uc29sZS5sb2coYCR7dGltZVdpdGhNc30gWyR7X19QQUNLQUdFX05BTUVfX31AJHtfX1ZFUlNJT05fX31dOiAke21lc3NhZ2V9YCwgLi4uYXJncyk7XG4gICAgfVxufVxuIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/dev.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BatchScheduler: () => (/* reexport safe */ _batch_scheduler__WEBPACK_IMPORTED_MODULE_0__.BatchScheduler),\n/* harmony export */   batchUpdates: () => (/* reexport safe */ _batch_scheduler__WEBPACK_IMPORTED_MODULE_0__.batchUpdates)\n/* harmony export */ });\n/* harmony import */ var _batch_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./batch-scheduler */ \"./src/batch-scheduler.ts\");\n/**\n * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n **/\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7O0lBS0k7QUFFNkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYXZhdGlqcy9iYXRjaC1zY2hlZHVsZXIvLi9zcmMvaW5kZXgudHM/ZmZiNCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCBLaGFsZWQgU2FtZWVyIDxraGFsZWQuc21xQGhvdG1haWwuY29tPi5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqKi9cblxuZXhwb3J0IHsgYmF0Y2hVcGRhdGVzLCBCYXRjaFNjaGVkdWxlciB9IGZyb20gJy4vYmF0Y2gtc2NoZWR1bGVyJztcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	// The module cache
/******/ 	var __webpack_module_cache__ = {};
/******/ 	
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/ 		// Check if module is in cache
/******/ 		var cachedModule = __webpack_module_cache__[moduleId];
/******/ 		if (cachedModule !== undefined) {
/******/ 			return cachedModule.exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = __webpack_module_cache__[moduleId] = {
/******/ 			// no module.id needed
/******/ 			// no module.loaded needed
/******/ 			exports: {}
/******/ 		};
/******/ 	
/******/ 		// Execute the module function
/******/ 		__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 	
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/ 	
/************************************************************************/
/******/ 	/* webpack/runtime/define property getters */
/******/ 	(() => {
/******/ 		// define getter functions for harmony exports
/******/ 		__webpack_require__.d = (exports, definition) => {
/******/ 			for(var key in definition) {
/******/ 				if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 					Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 				}
/******/ 			}
/******/ 		};
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/hasOwnProperty shorthand */
/******/ 	(() => {
/******/ 		__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ 	})();
/******/ 	
/******/ 	/* webpack/runtime/make namespace object */
/******/ 	(() => {
/******/ 		// define __esModule on exports
/******/ 		__webpack_require__.r = (exports) => {
/******/ 			if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 				Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 			}
/******/ 			Object.defineProperty(exports, '__esModule', { value: true });
/******/ 		};
/******/ 	})();
/******/ 	
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval-source-map devtool is used.
/******/ 	var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ 	module.exports = __webpack_exports__;
/******/ 	
/******/ })()
;