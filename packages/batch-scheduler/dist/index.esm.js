/*!
 * @avati/batch-scheduler 0.1.0
 * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>
 * Licensed under MIT, https://opensource.org/licenses/MIT/
 * Please visit https://avati.io/ for details.
 */

/* eslint-disable */

/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ var __webpack_modules__ = ({

/***/ "./src/batch-scheduler.ts":
/*!********************************!*\
  !*** ./src/batch-scheduler.ts ***!
  \********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BatchScheduler: () => (/* binding */ BatchScheduler),\n/* harmony export */   batchUpdates: () => (/* binding */ batchUpdates)\n/* harmony export */ });\n/* harmony import */ var _dev__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./dev */ \"./src/dev.ts\");\n/**\n * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n **/\n\n/**\n * BatchScheduler is responsible for managing and executing tasks in batches.\n * It supports task prioritization, cancellation, error handling, and batching contexts.\n *\n * @example\n * // Retrieve the singleton instance\n * const scheduler = BatchScheduler.getInstance();\n *\n * // Schedule a task\n * scheduler.schedule(() => {\n *     console.debug('Task executed.');\n * });\n *\n * // Schedule a high-priority task\n * scheduler.schedule(() => {\n *     console.debug('High-priority task executed.');\n * }, { priority: 10 });\n *\n * // Start a batching context\n * scheduler.startBatch();\n *\n * // Schedule tasks within the batch\n * scheduler.schedule(() => {\n *     console.debug('Task within batch.');\n * });\n *\n * // End the batching context to process tasks\n * scheduler.endBatch();\n *\n * // Flush pending tasks immediately\n * scheduler.flush();\n *\n * // Shutdown the scheduler\n * scheduler.shutdown();\n */\nclass BatchScheduler {\n    constructor() {\n        /**\n         * Depth of the current batching context.\n         */\n        this.batchDepth = 0;\n        /**\n         * Queue of tasks scheduled for execution.\n         */\n        this.taskQueue = [];\n        /**\n         * Indicates whether the task queue is scheduled for processing.\n         */\n        this.isScheduled = false;\n        /**\n         * Indicates whether the scheduler is shutting down.\n         */\n        this.isShuttingDown = false;\n        /**\n         * Current batch promise.\n         * @private\n         */\n        this.currentBatchPromise = null;\n    }\n    /**\n     * Retrieves the singleton instance of the BatchScheduler.\n     *\n     * @returns {BatchScheduler} The singleton instance.\n     *\n     * @example\n     * const scheduler = BatchScheduler.getInstance();\n     */\n    static getInstance() {\n        if (BatchScheduler.instance === null) {\n            BatchScheduler.instance = new BatchScheduler();\n        }\n        return BatchScheduler.instance;\n    }\n    /**\n     * Schedules a task for execution. Supports task prioritization, cancellation, and error handling.\n     *\n     * @param {TaskFunction} task - The function to be executed.\n     * @param {TaskOptions} [options={}] - Optional settings for the task.\n     *\n     * @throws {Error} If the scheduler is shutting down.\n     *\n     * @example\n     * // Schedule a simple task\n     * scheduler.schedule(() => {\n     *     console.debug('Task executed.');\n     * });\n     *\n     * @example\n     * // Schedule a task with high priority\n     * scheduler.schedule(() => {\n     *     console.debug('High-priority task executed.');\n     * }, { priority: 5 });\n     *\n     * @example\n     * // Schedule a task with an error handler\n     * scheduler.schedule(() => {\n     *     throw new Error('Task error');\n     * }, {\n     *     onError: (error) => {\n     *         console.error('Handled task error:', error);\n     *     },\n     * });\n     *\n     * @example\n     * // Schedule a task with a cancellation token\n     * const token = scheduler.createCancellationToken();\n     * scheduler.schedule(() => {\n     *     console.debug('This task may be cancelled.');\n     * }, { cancellationToken: token });\n     *\n     * // Cancel the task before it executes\n     * token.cancel();\n     */\n    schedule(task, options = {}) {\n        if (this.isShuttingDown) {\n            throw new Error('Cannot schedule tasks after shutdown has been initiated.');\n        }\n        options.name = options.name || 'anonymous';\n        const { priority = 0, onError, cancellationToken: token, name = 'anonymous', } = options;\n        this.taskQueue.push({ task, priority, onError, token });\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Task scheduled: ${name} (priority: ${priority})`);\n        // Sort the task queue by priority in descending order.\n        this.taskQueue.sort((a, b) => b.priority - a.priority);\n        if (!this.isScheduled && this.batchDepth === 0) {\n            this.isScheduled = true;\n            queueMicrotask(() => {\n                this.currentBatchPromise = this.processQueue();\n            });\n        }\n    }\n    /**\n     * Begins a new batching context. Tasks scheduled within this context\n     * will be deferred until the batch ends.\n     *\n     * @example\n     * scheduler.startBatch();\n     * // Schedule tasks within the batch\n     * scheduler.schedule(() => {\n     *     console.debug('Task within batch.');\n     * });\n     * // End the batching context\n     * scheduler.endBatch();\n     */\n    startBatch() {\n        this.batchDepth++;\n    }\n    /**\n     * Ends the current batching context. If all batching contexts have ended,\n     * pending tasks will be processed.\n     *\n     * @throws {Error} If there is no batching context to end.\n     *\n     * @example\n     * // Assuming a batching context has been started\n     * scheduler.endBatch();\n     */\n    endBatch() {\n        if (this.batchDepth === 0) {\n            throw new Error('No batch to end.');\n        }\n        this.batchDepth--;\n        if (this.batchDepth === 0 && this.taskQueue.length > 0) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Batch ended, processing tasks (${this.taskQueue.length})`);\n            this.currentBatchPromise = this.processQueue();\n        }\n    }\n    /**\n     * Processes the task queue, executing tasks in order of priority.\n     */\n    async processQueue() {\n        var _a;\n        this.isScheduled = false;\n        if (this.batchDepth > 0 || this.isShuttingDown) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Batch depth is greater than 0 or shutting down, returning\");\n            return;\n        }\n        const tasksToProcess = this.taskQueue;\n        this.taskQueue = [];\n        for (const scheduledTask of tasksToProcess) {\n            if ((_a = scheduledTask.token) === null || _a === void 0 ? void 0 : _a.isCancelled) {\n                (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Task is cancelled, skipping\");\n                continue;\n            }\n            try {\n                const result = scheduledTask.task();\n                // If the task returns a promise, we need to wait for it\n                if (result instanceof Promise) {\n                    scheduledTask.promise = result;\n                    await result;\n                    (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Task completed: ${scheduledTask.name}`);\n                }\n                else {\n                    // For synchronous tasks, we create a resolved promise\n                    scheduledTask.promise = Promise.resolve();\n                }\n            }\n            catch (error) {\n                (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(`Task failed: ${scheduledTask.name}`);\n                if (scheduledTask.onError) {\n                    try {\n                        scheduledTask.onError(error);\n                    }\n                    catch (errorInHandler) {\n                        console.error('Error in onError handler:', errorInHandler);\n                    }\n                }\n                else {\n                    console.error('Error in batched task:', error);\n                }\n            }\n        }\n        if (this.taskQueue.length > 0 && this.batchDepth === 0) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)(\"Task queue is not empty, scheduling next batch\");\n            this.isScheduled = true;\n            queueMicrotask(() => this.processQueue());\n        }\n    }\n    /**\n     * Cancels all pending tasks and prevents new tasks from being scheduled.\n     *\n     * @example\n     * scheduler.shutdown();\n     */\n    shutdown() {\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Shutting down scheduler');\n        this.isShuttingDown = true;\n        this.taskQueue = [];\n    }\n    /**\n     * Immediately processes all pending tasks in the queue.\n     *\n     * @throws {Error} If called within a batching context.\n     *\n     * @example\n     * scheduler.flush();\n     */\n    flush() {\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Flushing scheduler');\n        if (this.batchDepth > 0) {\n            throw new Error('Cannot flush while in a batching context.');\n        }\n        // Trigger completion of current batch without blocking\n        if (this.currentBatchPromise) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Completing current batch');\n            this.currentBatchPromise.finally();\n        }\n        // Process any remaining tasks without blocking\n        if (this.taskQueue.length > 0) {\n            (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Processing remaining tasks');\n            this.currentBatchPromise = this.processQueue();\n            this.currentBatchPromise.finally();\n        }\n    }\n    /**\n     * Creates a cancellation token that can be used to cancel a scheduled task.\n     *\n     * @returns {CancellationToken} A new cancellation token.\n     *\n     * @example\n     * const token = scheduler.createCancellationToken();\n     * scheduler.schedule(() => {\n     *     console.debug('This task may be cancelled.');\n     * }, { cancellationToken: token });\n     *\n     * // Cancel the task before it executes\n     * token.cancel();\n     */\n    createCancellationToken() {\n        let isCancelled = false;\n        return {\n            cancel: () => {\n                isCancelled = true;\n            },\n            get isCancelled() {\n                return isCancelled;\n            },\n        };\n    }\n}\n/**\n * Singleton instance of the BatchScheduler.\n */\nBatchScheduler.instance = null;\n/**\n * Executes a function within a batching context. Tasks scheduled within the function\n * will be deferred until the batch ends.\n *\n * @param {() => T} fn - The function to execute.\n *\n * @returns {T} The return value of the executed function.\n *\n * @template T\n *\n * @example\n * batchUpdates(() => {\n *     // Schedule tasks within the batch\n *     scheduler.schedule(() => {\n *         console.debug('Task within batch.');\n *     });\n *     // Other synchronous operations\n *     console.debug('Batching operations complete.');\n * });\n */\nfunction batchUpdates(fn) {\n    const scheduler = BatchScheduler.getInstance();\n    (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Starting batch...');\n    scheduler.startBatch();\n    try {\n        return fn();\n    }\n    finally {\n        scheduler.endBatch();\n        (0,_dev__WEBPACK_IMPORTED_MODULE_0__.debugLog)('Batch ended.');\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FBQyxPQUFPLEVBQUU7UUFDdEMsQ0FBQztRQUVELCtDQUErQztRQUMvQyxJQUFJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBRSxDQUFDO1lBQzVCLDhDQUFRLENBQUMsNEJBQTRCLENBQUMsQ0FBQztZQUN2QyxJQUFJLENBQUMsbUJBQW1CLEdBQUcsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFDO1lBQy9DLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUN2QyxDQUFDO0lBQ0wsQ0FBQztJQUVEOzs7Ozs7Ozs7Ozs7O09BYUc7SUFDSSx1QkFBdUI7UUFDMUIsSUFBSSxXQUFXLEdBQUcsS0FBSyxDQUFDO1FBRXhCLE9BQU87WUFDSCxNQUFNLEVBQUUsR0FBRyxFQUFFO2dCQUNULFdBQVcsR0FBRyxJQUFJLENBQUM7WUFDdkIsQ0FBQztZQUNELElBQUksV0FBVztnQkFDWCxPQUFPLFdBQVcsQ0FBQztZQUN2QixDQUFDO1NBQ0osQ0FBQztJQUNOLENBQUM7O0FBaFJEOztHQUVHO0FBQ1ksdUJBQVEsR0FBMEIsSUFBSSxDQUFDO0FBZ1IxRDs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQW1CRztBQUNJLFNBQVMsWUFBWSxDQUFJLEVBQVc7SUFDdkMsTUFBTSxTQUFTLEdBQUcsY0FBYyxDQUFDLFdBQVcsRUFBRSxDQUFDO0lBQy9DLDhDQUFRLENBQUMsbUJBQW1CLENBQUMsQ0FBQztJQUM5QixTQUFTLENBQUMsVUFBVSxFQUFFLENBQUM7SUFFdkIsSUFBSSxDQUFDO1FBQ0QsT0FBTyxFQUFFLEVBQUUsQ0FBQztJQUNoQixDQUFDO1lBQVMsQ0FBQztRQUNQLFNBQVMsQ0FBQyxRQUFRLEVBQUUsQ0FBQztRQUNyQiw4Q0FBUSxDQUFDLGNBQWMsQ0FBQyxDQUFDO0lBQzdCLENBQUM7QUFDTCxDQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vQGF2YXRpL2JhdGNoLXNjaGVkdWxlci8uL3NyYy9iYXRjaC1zY2hlZHVsZXIudHM/MDc3MCJdLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIENvcHlyaWdodCAoYykgMjAyNCBLaGFsZWQgU2FtZWVyIDxraGFsZWQuc21xQGhvdG1haWwuY29tPi5cbiAqXG4gKiBUaGlzIHNvdXJjZSBjb2RlIGlzIGxpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZSBmb3VuZCBpbiB0aGVcbiAqIExJQ0VOU0UgZmlsZSBpbiB0aGUgcm9vdCBkaXJlY3Rvcnkgb2YgdGhpcyBzb3VyY2UgdHJlZS5cbiAqKi9cblxuaW1wb3J0IHsgZGVidWdMb2cgfSBmcm9tICcuL2Rldic7XG5cbi8qKlxuICogVHlwZSBkZWZpbml0aW9ucyBmb3IgdGFzayBmdW5jdGlvbnMgYW5kIHByaW9yaXRpZXMuXG4gKi9cbnR5cGUgVGFza0Z1bmN0aW9uID0gKCkgPT4gdm9pZCB8IFByb21pc2U8dm9pZD47XG50eXBlIFByaW9yaXR5ID0gbnVtYmVyO1xuXG4vKipcbiAqIEludGVyZmFjZSByZXByZXNlbnRpbmcgdGhlIG9wdGlvbnMgYXZhaWxhYmxlIHdoZW4gc2NoZWR1bGluZyBhIHRhc2suXG4gKi9cbmludGVyZmFjZSBUYXNrT3B0aW9ucyB7XG4gICAgLyoqXG4gICAgICogVGhlIHByaW9yaXR5IGxldmVsIG9mIHRoZSB0YXNrLiBIaWdoZXIgbnVtYmVycyBpbmRpY2F0ZSBoaWdoZXIgcHJpb3JpdHkuXG4gICAgICogQGRlZmF1bHQgMFxuICAgICAqL1xuICAgIHByaW9yaXR5PzogUHJpb3JpdHk7XG5cbiAgICAvKipcbiAgICAgKiBDYWxsYmFjayBmdW5jdGlvbiB0byBoYW5kbGUgYW55IGVycm9ycyB0aGF0IG9jY3VyIGR1cmluZyB0YXNrIGV4ZWN1dGlvbi5cbiAgICAgKi9cbiAgICBvbkVycm9yPzogKGVycm9yOiB1bmtub3duKSA9PiB2b2lkO1xuXG4gICAgLyoqXG4gICAgICogQSBjYW5jZWxsYXRpb24gdG9rZW4gdGhhdCBjYW4gYmUgdXNlZCB0byBjYW5jZWwgdGhlIHNjaGVkdWxlZCB0YXNrIGJlZm9yZSBpdCBleGVjdXRlcy5cbiAgICAgKi9cbiAgICBjYW5jZWxsYXRpb25Ub2tlbj86IENhbmNlbGxhdGlvblRva2VuO1xuXG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIHRhc2suIFRoaXMgaXMgdXNlZCBmb3IgZGVidWdnaW5nIHB1cnBvc2VzLlxuICAgICAqL1xuICAgIG5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIHJlcHJlc2VudGluZyBhIHNjaGVkdWxlZCB0YXNrIHdpdGhpbiB0aGUgdGFzayBxdWV1ZS5cbiAqL1xuaW50ZXJmYWNlIFNjaGVkdWxlZFRhc2sge1xuICAgIHRhc2s6IFRhc2tGdW5jdGlvbjtcbiAgICBwcmlvcml0eTogUHJpb3JpdHk7XG4gICAgb25FcnJvcj86IChlcnJvcjogdW5rbm93bikgPT4gdm9pZDtcbiAgICB0b2tlbj86IENhbmNlbGxhdGlvblRva2VuO1xuICAgIHByb21pc2U/OiBQcm9taXNlPHZvaWQ+O1xuICAgIG5hbWU/OiBzdHJpbmc7XG59XG5cbi8qKlxuICogSW50ZXJmYWNlIHJlcHJlc2VudGluZyBhIGNhbmNlbGxhdGlvbiB0b2tlbiBmb3IgYSBzY2hlZHVsZWQgdGFzay5cbiAqL1xuaW50ZXJmYWNlIENhbmNlbGxhdGlvblRva2VuIHtcbiAgICAvKipcbiAgICAgKiBDYW5jZWxzIHRoZSBzY2hlZHVsZWQgdGFzay5cbiAgICAgKi9cbiAgICBjYW5jZWw6ICgpID0+IHZvaWQ7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgdGFzayBoYXMgYmVlbiBjYW5jZWxsZWQuXG4gICAgICovXG4gICAgaXNDYW5jZWxsZWQ6IGJvb2xlYW47XG59XG5cblxuLyoqXG4gKiBCYXRjaFNjaGVkdWxlciBpcyByZXNwb25zaWJsZSBmb3IgbWFuYWdpbmcgYW5kIGV4ZWN1dGluZyB0YXNrcyBpbiBiYXRjaGVzLlxuICogSXQgc3VwcG9ydHMgdGFzayBwcmlvcml0aXphdGlvbiwgY2FuY2VsbGF0aW9uLCBlcnJvciBoYW5kbGluZywgYW5kIGJhdGNoaW5nIGNvbnRleHRzLlxuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBSZXRyaWV2ZSB0aGUgc2luZ2xldG9uIGluc3RhbmNlXG4gKiBjb25zdCBzY2hlZHVsZXIgPSBCYXRjaFNjaGVkdWxlci5nZXRJbnN0YW5jZSgpO1xuICpcbiAqIC8vIFNjaGVkdWxlIGEgdGFza1xuICogc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAqICAgICBjb25zb2xlLmRlYnVnKCdUYXNrIGV4ZWN1dGVkLicpO1xuICogfSk7XG4gKlxuICogLy8gU2NoZWR1bGUgYSBoaWdoLXByaW9yaXR5IHRhc2tcbiAqIHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiB7XG4gKiAgICAgY29uc29sZS5kZWJ1ZygnSGlnaC1wcmlvcml0eSB0YXNrIGV4ZWN1dGVkLicpO1xuICogfSwgeyBwcmlvcml0eTogMTAgfSk7XG4gKlxuICogLy8gU3RhcnQgYSBiYXRjaGluZyBjb250ZXh0XG4gKiBzY2hlZHVsZXIuc3RhcnRCYXRjaCgpO1xuICpcbiAqIC8vIFNjaGVkdWxlIHRhc2tzIHdpdGhpbiB0aGUgYmF0Y2hcbiAqIHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiB7XG4gKiAgICAgY29uc29sZS5kZWJ1ZygnVGFzayB3aXRoaW4gYmF0Y2guJyk7XG4gKiB9KTtcbiAqXG4gKiAvLyBFbmQgdGhlIGJhdGNoaW5nIGNvbnRleHQgdG8gcHJvY2VzcyB0YXNrc1xuICogc2NoZWR1bGVyLmVuZEJhdGNoKCk7XG4gKlxuICogLy8gRmx1c2ggcGVuZGluZyB0YXNrcyBpbW1lZGlhdGVseVxuICogc2NoZWR1bGVyLmZsdXNoKCk7XG4gKlxuICogLy8gU2h1dGRvd24gdGhlIHNjaGVkdWxlclxuICogc2NoZWR1bGVyLnNodXRkb3duKCk7XG4gKi9cbmV4cG9ydCBjbGFzcyBCYXRjaFNjaGVkdWxlciB7XG4gICAgLyoqXG4gICAgICogU2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBCYXRjaFNjaGVkdWxlci5cbiAgICAgKi9cbiAgICBwcml2YXRlIHN0YXRpYyBpbnN0YW5jZTogQmF0Y2hTY2hlZHVsZXIgfCBudWxsID0gbnVsbDtcblxuICAgIC8qKlxuICAgICAqIERlcHRoIG9mIHRoZSBjdXJyZW50IGJhdGNoaW5nIGNvbnRleHQuXG4gICAgICovXG4gICAgcHJpdmF0ZSBiYXRjaERlcHRoID0gMDtcblxuICAgIC8qKlxuICAgICAqIFF1ZXVlIG9mIHRhc2tzIHNjaGVkdWxlZCBmb3IgZXhlY3V0aW9uLlxuICAgICAqL1xuICAgIHByaXZhdGUgdGFza1F1ZXVlOiBTY2hlZHVsZWRUYXNrW10gPSBbXTtcblxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB3aGV0aGVyIHRoZSB0YXNrIHF1ZXVlIGlzIHNjaGVkdWxlZCBmb3IgcHJvY2Vzc2luZy5cbiAgICAgKi9cbiAgICBwcml2YXRlIGlzU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGUgc2NoZWR1bGVyIGlzIHNodXR0aW5nIGRvd24uXG4gICAgICovXG4gICAgcHJpdmF0ZSBpc1NodXR0aW5nRG93biA9IGZhbHNlO1xuXG4gICAgLyoqXG4gICAgICogQ3VycmVudCBiYXRjaCBwcm9taXNlLlxuICAgICAqIEBwcml2YXRlXG4gICAgICovXG4gICAgcHJpdmF0ZSBjdXJyZW50QmF0Y2hQcm9taXNlOiBQcm9taXNlPHZvaWQ+IHwgbnVsbCA9IG51bGw7XG5cblxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgc2luZ2xldG9uIGluc3RhbmNlIG9mIHRoZSBCYXRjaFNjaGVkdWxlci5cbiAgICAgKlxuICAgICAqIEByZXR1cm5zIHtCYXRjaFNjaGVkdWxlcn0gVGhlIHNpbmdsZXRvbiBpbnN0YW5jZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogY29uc3Qgc2NoZWR1bGVyID0gQmF0Y2hTY2hlZHVsZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGdldEluc3RhbmNlKCk6IEJhdGNoU2NoZWR1bGVyIHtcbiAgICAgICAgaWYgKEJhdGNoU2NoZWR1bGVyLmluc3RhbmNlID09PSBudWxsKSB7XG4gICAgICAgICAgICBCYXRjaFNjaGVkdWxlci5pbnN0YW5jZSA9IG5ldyBCYXRjaFNjaGVkdWxlcigpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIEJhdGNoU2NoZWR1bGVyLmluc3RhbmNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlcyBhIHRhc2sgZm9yIGV4ZWN1dGlvbi4gU3VwcG9ydHMgdGFzayBwcmlvcml0aXphdGlvbiwgY2FuY2VsbGF0aW9uLCBhbmQgZXJyb3IgaGFuZGxpbmcuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge1Rhc2tGdW5jdGlvbn0gdGFzayAtIFRoZSBmdW5jdGlvbiB0byBiZSBleGVjdXRlZC5cbiAgICAgKiBAcGFyYW0ge1Rhc2tPcHRpb25zfSBbb3B0aW9ucz17fV0gLSBPcHRpb25hbCBzZXR0aW5ncyBmb3IgdGhlIHRhc2suXG4gICAgICpcbiAgICAgKiBAdGhyb3dzIHtFcnJvcn0gSWYgdGhlIHNjaGVkdWxlciBpcyBzaHV0dGluZyBkb3duLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTY2hlZHVsZSBhIHNpbXBsZSB0YXNrXG4gICAgICogc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5kZWJ1ZygnVGFzayBleGVjdXRlZC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogLy8gU2NoZWR1bGUgYSB0YXNrIHdpdGggaGlnaCBwcmlvcml0eVxuICAgICAqIHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiB7XG4gICAgICogICAgIGNvbnNvbGUuZGVidWcoJ0hpZ2gtcHJpb3JpdHkgdGFzayBleGVjdXRlZC4nKTtcbiAgICAgKiB9LCB7IHByaW9yaXR5OiA1IH0pO1xuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBTY2hlZHVsZSBhIHRhc2sgd2l0aCBhbiBlcnJvciBoYW5kbGVyXG4gICAgICogc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgKiAgICAgdGhyb3cgbmV3IEVycm9yKCdUYXNrIGVycm9yJyk7XG4gICAgICogfSwge1xuICAgICAqICAgICBvbkVycm9yOiAoZXJyb3IpID0+IHtcbiAgICAgKiAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0hhbmRsZWQgdGFzayBlcnJvcjonLCBlcnJvcik7XG4gICAgICogICAgIH0sXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIC8vIFNjaGVkdWxlIGEgdGFzayB3aXRoIGEgY2FuY2VsbGF0aW9uIHRva2VuXG4gICAgICogY29uc3QgdG9rZW4gPSBzY2hlZHVsZXIuY3JlYXRlQ2FuY2VsbGF0aW9uVG9rZW4oKTtcbiAgICAgKiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmRlYnVnKCdUaGlzIHRhc2sgbWF5IGJlIGNhbmNlbGxlZC4nKTtcbiAgICAgKiB9LCB7IGNhbmNlbGxhdGlvblRva2VuOiB0b2tlbiB9KTtcbiAgICAgKlxuICAgICAqIC8vIENhbmNlbCB0aGUgdGFzayBiZWZvcmUgaXQgZXhlY3V0ZXNcbiAgICAgKiB0b2tlbi5jYW5jZWwoKTtcbiAgICAgKi9cbiAgICBwdWJsaWMgc2NoZWR1bGUodGFzazogVGFza0Z1bmN0aW9uLCBvcHRpb25zOiBUYXNrT3B0aW9ucyA9IHt9KTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmlzU2h1dHRpbmdEb3duKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBzY2hlZHVsZSB0YXNrcyBhZnRlciBzaHV0ZG93biBoYXMgYmVlbiBpbml0aWF0ZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgb3B0aW9ucy5uYW1lID0gb3B0aW9ucy5uYW1lIHx8ICdhbm9ueW1vdXMnO1xuXG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICAgIHByaW9yaXR5ID0gMCxcbiAgICAgICAgICAgIG9uRXJyb3IsXG4gICAgICAgICAgICBjYW5jZWxsYXRpb25Ub2tlbjogdG9rZW4sXG4gICAgICAgICAgICBuYW1lID0gJ2Fub255bW91cycsXG4gICAgICAgIH0gPSBvcHRpb25zO1xuXG4gICAgICAgIHRoaXMudGFza1F1ZXVlLnB1c2goeyB0YXNrLCBwcmlvcml0eSwgb25FcnJvciwgdG9rZW4gfSk7XG4gICAgICAgIGRlYnVnTG9nKGBUYXNrIHNjaGVkdWxlZDogJHtuYW1lfSAocHJpb3JpdHk6ICR7cHJpb3JpdHl9KWApO1xuICAgICAgICAvLyBTb3J0IHRoZSB0YXNrIHF1ZXVlIGJ5IHByaW9yaXR5IGluIGRlc2NlbmRpbmcgb3JkZXIuXG4gICAgICAgIHRoaXMudGFza1F1ZXVlLnNvcnQoKGEsIGIpID0+IGIucHJpb3JpdHkgLSBhLnByaW9yaXR5KTtcblxuICAgICAgICBpZiAoIXRoaXMuaXNTY2hlZHVsZWQgJiYgdGhpcy5iYXRjaERlcHRoID09PSAwKSB7XG4gICAgICAgICAgICB0aGlzLmlzU2NoZWR1bGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHF1ZXVlTWljcm90YXNrKCgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRCYXRjaFByb21pc2UgPSB0aGlzLnByb2Nlc3NRdWV1ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBCZWdpbnMgYSBuZXcgYmF0Y2hpbmcgY29udGV4dC4gVGFza3Mgc2NoZWR1bGVkIHdpdGhpbiB0aGlzIGNvbnRleHRcbiAgICAgKiB3aWxsIGJlIGRlZmVycmVkIHVudGlsIHRoZSBiYXRjaCBlbmRzLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBzY2hlZHVsZXIuc3RhcnRCYXRjaCgpO1xuICAgICAqIC8vIFNjaGVkdWxlIHRhc2tzIHdpdGhpbiB0aGUgYmF0Y2hcbiAgICAgKiBzY2hlZHVsZXIuc2NoZWR1bGUoKCkgPT4ge1xuICAgICAqICAgICBjb25zb2xlLmRlYnVnKCdUYXNrIHdpdGhpbiBiYXRjaC4nKTtcbiAgICAgKiB9KTtcbiAgICAgKiAvLyBFbmQgdGhlIGJhdGNoaW5nIGNvbnRleHRcbiAgICAgKiBzY2hlZHVsZXIuZW5kQmF0Y2goKTtcbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhcnRCYXRjaCgpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5iYXRjaERlcHRoKys7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogRW5kcyB0aGUgY3VycmVudCBiYXRjaGluZyBjb250ZXh0LiBJZiBhbGwgYmF0Y2hpbmcgY29udGV4dHMgaGF2ZSBlbmRlZCxcbiAgICAgKiBwZW5kaW5nIHRhc2tzIHdpbGwgYmUgcHJvY2Vzc2VkLlxuICAgICAqXG4gICAgICogQHRocm93cyB7RXJyb3J9IElmIHRoZXJlIGlzIG5vIGJhdGNoaW5nIGNvbnRleHQgdG8gZW5kLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiAvLyBBc3N1bWluZyBhIGJhdGNoaW5nIGNvbnRleHQgaGFzIGJlZW4gc3RhcnRlZFxuICAgICAqIHNjaGVkdWxlci5lbmRCYXRjaCgpO1xuICAgICAqL1xuICAgIHB1YmxpYyBlbmRCYXRjaCgpOiB2b2lkIHtcbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hEZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyBiYXRjaCB0byBlbmQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLmJhdGNoRGVwdGgtLTtcblxuICAgICAgICBpZiAodGhpcy5iYXRjaERlcHRoID09PSAwICYmIHRoaXMudGFza1F1ZXVlLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGRlYnVnTG9nKGBCYXRjaCBlbmRlZCwgcHJvY2Vzc2luZyB0YXNrcyAoJHt0aGlzLnRhc2tRdWV1ZS5sZW5ndGh9KWApO1xuICAgICAgICAgICAgdGhpcy5jdXJyZW50QmF0Y2hQcm9taXNlID0gdGhpcy5wcm9jZXNzUXVldWUoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFByb2Nlc3NlcyB0aGUgdGFzayBxdWV1ZSwgZXhlY3V0aW5nIHRhc2tzIGluIG9yZGVyIG9mIHByaW9yaXR5LlxuICAgICAqL1xuICAgIHByaXZhdGUgYXN5bmMgcHJvY2Vzc1F1ZXVlKCk6IFByb21pc2U8dm9pZD4ge1xuICAgICAgICB0aGlzLmlzU2NoZWR1bGVkID0gZmFsc2U7XG5cbiAgICAgICAgaWYgKHRoaXMuYmF0Y2hEZXB0aCA+IDAgfHwgdGhpcy5pc1NodXR0aW5nRG93bikge1xuICAgICAgICAgICAgZGVidWdMb2coXCJCYXRjaCBkZXB0aCBpcyBncmVhdGVyIHRoYW4gMCBvciBzaHV0dGluZyBkb3duLCByZXR1cm5pbmdcIik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBjb25zdCB0YXNrc1RvUHJvY2VzcyA9IHRoaXMudGFza1F1ZXVlO1xuICAgICAgICB0aGlzLnRhc2tRdWV1ZSA9IFtdO1xuXG4gICAgICAgIGZvciAoY29uc3Qgc2NoZWR1bGVkVGFzayBvZiB0YXNrc1RvUHJvY2Vzcykge1xuICAgICAgICAgICAgaWYgKHNjaGVkdWxlZFRhc2sudG9rZW4/LmlzQ2FuY2VsbGVkKSB7XG4gICAgICAgICAgICAgICAgZGVidWdMb2coXCJUYXNrIGlzIGNhbmNlbGxlZCwgc2tpcHBpbmdcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gc2NoZWR1bGVkVGFzay50YXNrKCk7XG5cbiAgICAgICAgICAgICAgICAvLyBJZiB0aGUgdGFzayByZXR1cm5zIGEgcHJvbWlzZSwgd2UgbmVlZCB0byB3YWl0IGZvciBpdFxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHNjaGVkdWxlZFRhc2sucHJvbWlzZSA9IHJlc3VsdDtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzdWx0O1xuICAgICAgICAgICAgICAgICAgICBkZWJ1Z0xvZyhgVGFzayBjb21wbGV0ZWQ6ICR7c2NoZWR1bGVkVGFzay5uYW1lfWApO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBzeW5jaHJvbm91cyB0YXNrcywgd2UgY3JlYXRlIGEgcmVzb2x2ZWQgcHJvbWlzZVxuICAgICAgICAgICAgICAgICAgICBzY2hlZHVsZWRUYXNrLnByb21pc2UgPSBQcm9taXNlLnJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIGRlYnVnTG9nKGBUYXNrIGZhaWxlZDogJHtzY2hlZHVsZWRUYXNrLm5hbWV9YCk7XG4gICAgICAgICAgICAgICAgaWYgKHNjaGVkdWxlZFRhc2sub25FcnJvcikge1xuICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2NoZWR1bGVkVGFzay5vbkVycm9yKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3JJbkhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGluIG9uRXJyb3IgaGFuZGxlcjonLCBlcnJvckluSGFuZGxlcik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBpbiBiYXRjaGVkIHRhc2s6JywgZXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLnRhc2tRdWV1ZS5sZW5ndGggPiAwICYmIHRoaXMuYmF0Y2hEZXB0aCA9PT0gMCkge1xuICAgICAgICAgICAgZGVidWdMb2coXCJUYXNrIHF1ZXVlIGlzIG5vdCBlbXB0eSwgc2NoZWR1bGluZyBuZXh0IGJhdGNoXCIpO1xuICAgICAgICAgICAgdGhpcy5pc1NjaGVkdWxlZCA9IHRydWU7XG4gICAgICAgICAgICBxdWV1ZU1pY3JvdGFzaygoKSA9PiB0aGlzLnByb2Nlc3NRdWV1ZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYWxsIHBlbmRpbmcgdGFza3MgYW5kIHByZXZlbnRzIG5ldyB0YXNrcyBmcm9tIGJlaW5nIHNjaGVkdWxlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc2NoZWR1bGVyLnNodXRkb3duKCk7XG4gICAgICovXG4gICAgcHVibGljIHNodXRkb3duKCk6IHZvaWQge1xuICAgICAgICBkZWJ1Z0xvZygnU2h1dHRpbmcgZG93biBzY2hlZHVsZXInKTtcbiAgICAgICAgdGhpcy5pc1NodXR0aW5nRG93biA9IHRydWU7XG4gICAgICAgIHRoaXMudGFza1F1ZXVlID0gW107XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogSW1tZWRpYXRlbHkgcHJvY2Vzc2VzIGFsbCBwZW5kaW5nIHRhc2tzIGluIHRoZSBxdWV1ZS5cbiAgICAgKlxuICAgICAqIEB0aHJvd3Mge0Vycm9yfSBJZiBjYWxsZWQgd2l0aGluIGEgYmF0Y2hpbmcgY29udGV4dC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogc2NoZWR1bGVyLmZsdXNoKCk7XG4gICAgICovXG4gICAgcHVibGljIGZsdXNoKCk6IHZvaWQge1xuICAgICAgICBkZWJ1Z0xvZygnRmx1c2hpbmcgc2NoZWR1bGVyJyk7XG4gICAgICAgIGlmICh0aGlzLmJhdGNoRGVwdGggPiAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBmbHVzaCB3aGlsZSBpbiBhIGJhdGNoaW5nIGNvbnRleHQuJyk7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBUcmlnZ2VyIGNvbXBsZXRpb24gb2YgY3VycmVudCBiYXRjaCB3aXRob3V0IGJsb2NraW5nXG4gICAgICAgIGlmICh0aGlzLmN1cnJlbnRCYXRjaFByb21pc2UpIHtcbiAgICAgICAgICAgIGRlYnVnTG9nKCdDb21wbGV0aW5nIGN1cnJlbnQgYmF0Y2gnKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEJhdGNoUHJvbWlzZS5maW5hbGx5KClcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIFByb2Nlc3MgYW55IHJlbWFpbmluZyB0YXNrcyB3aXRob3V0IGJsb2NraW5nXG4gICAgICAgIGlmICh0aGlzLnRhc2tRdWV1ZS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBkZWJ1Z0xvZygnUHJvY2Vzc2luZyByZW1haW5pbmcgdGFza3MnKTtcbiAgICAgICAgICAgIHRoaXMuY3VycmVudEJhdGNoUHJvbWlzZSA9IHRoaXMucHJvY2Vzc1F1ZXVlKCk7XG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRCYXRjaFByb21pc2UuZmluYWxseSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhIGNhbmNlbGxhdGlvbiB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGNhbmNlbCBhIHNjaGVkdWxlZCB0YXNrLlxuICAgICAqXG4gICAgICogQHJldHVybnMge0NhbmNlbGxhdGlvblRva2VufSBBIG5ldyBjYW5jZWxsYXRpb24gdG9rZW4uXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGNvbnN0IHRva2VuID0gc2NoZWR1bGVyLmNyZWF0ZUNhbmNlbGxhdGlvblRva2VuKCk7XG4gICAgICogc2NoZWR1bGVyLnNjaGVkdWxlKCgpID0+IHtcbiAgICAgKiAgICAgY29uc29sZS5kZWJ1ZygnVGhpcyB0YXNrIG1heSBiZSBjYW5jZWxsZWQuJyk7XG4gICAgICogfSwgeyBjYW5jZWxsYXRpb25Ub2tlbjogdG9rZW4gfSk7XG4gICAgICpcbiAgICAgKiAvLyBDYW5jZWwgdGhlIHRhc2sgYmVmb3JlIGl0IGV4ZWN1dGVzXG4gICAgICogdG9rZW4uY2FuY2VsKCk7XG4gICAgICovXG4gICAgcHVibGljIGNyZWF0ZUNhbmNlbGxhdGlvblRva2VuKCk6IENhbmNlbGxhdGlvblRva2VuIHtcbiAgICAgICAgbGV0IGlzQ2FuY2VsbGVkID0gZmFsc2U7XG5cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIGNhbmNlbDogKCkgPT4ge1xuICAgICAgICAgICAgICAgIGlzQ2FuY2VsbGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgaXNDYW5jZWxsZWQoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGlzQ2FuY2VsbGVkO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG5cbi8qKlxuICogRXhlY3V0ZXMgYSBmdW5jdGlvbiB3aXRoaW4gYSBiYXRjaGluZyBjb250ZXh0LiBUYXNrcyBzY2hlZHVsZWQgd2l0aGluIHRoZSBmdW5jdGlvblxuICogd2lsbCBiZSBkZWZlcnJlZCB1bnRpbCB0aGUgYmF0Y2ggZW5kcy5cbiAqXG4gKiBAcGFyYW0geygpID0+IFR9IGZuIC0gVGhlIGZ1bmN0aW9uIHRvIGV4ZWN1dGUuXG4gKlxuICogQHJldHVybnMge1R9IFRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGV4ZWN1dGVkIGZ1bmN0aW9uLlxuICpcbiAqIEB0ZW1wbGF0ZSBUXG4gKlxuICogQGV4YW1wbGVcbiAqIGJhdGNoVXBkYXRlcygoKSA9PiB7XG4gKiAgICAgLy8gU2NoZWR1bGUgdGFza3Mgd2l0aGluIHRoZSBiYXRjaFxuICogICAgIHNjaGVkdWxlci5zY2hlZHVsZSgoKSA9PiB7XG4gKiAgICAgICAgIGNvbnNvbGUuZGVidWcoJ1Rhc2sgd2l0aGluIGJhdGNoLicpO1xuICogICAgIH0pO1xuICogICAgIC8vIE90aGVyIHN5bmNocm9ub3VzIG9wZXJhdGlvbnNcbiAqICAgICBjb25zb2xlLmRlYnVnKCdCYXRjaGluZyBvcGVyYXRpb25zIGNvbXBsZXRlLicpO1xuICogfSk7XG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBiYXRjaFVwZGF0ZXM8VD4oZm46ICgpID0+IFQpOiBUIHtcbiAgICBjb25zdCBzY2hlZHVsZXIgPSBCYXRjaFNjaGVkdWxlci5nZXRJbnN0YW5jZSgpO1xuICAgIGRlYnVnTG9nKCdTdGFydGluZyBiYXRjaC4uLicpO1xuICAgIHNjaGVkdWxlci5zdGFydEJhdGNoKCk7XG5cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gZm4oKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgICBzY2hlZHVsZXIuZW5kQmF0Y2goKTtcbiAgICAgICAgZGVidWdMb2coJ0JhdGNoIGVuZGVkLicpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/batch-scheduler.ts\n");

/***/ }),

/***/ "./src/dev.ts":
/*!********************!*\
  !*** ./src/dev.ts ***!
  \********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   assert: () => (/* binding */ assert),\n/* harmony export */   debugLog: () => (/* binding */ debugLog),\n/* harmony export */   isDev: () => (/* binding */ isDev),\n/* harmony export */   warn: () => (/* binding */ warn)\n/* harmony export */ });\n/**\n * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n **/\nconst isDev = true;\nfunction assert(condition, message) {\n    if ( true && !condition) {\n        throw new Error(message);\n    }\n}\nfunction warn(message) {\n    if (true) {\n        console.warn(`[${\"@avati/batch-scheduler\"}]: ${message}`);\n    }\n}\nfunction debugLog(message, ...args) {\n    if (true) {\n        const now = new Date();\n        // @ts-ignore\n        const timeWithMs = now.toISOString().split('T')[1].slice(0, -1);\n        console.log(`${timeWithMs} [${\"@avati/batch-scheduler\"}@${\"0.1.0\"}]: ${message}`, ...args);\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvZGV2LnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7QUFBQTs7Ozs7SUFLSTtBQVlHLE1BQU0sS0FBSyxHQUFHLElBQU8sQ0FBQztBQUV0QixTQUFTLE1BQU0sQ0FBQyxTQUFjLEVBQUUsT0FBZTtJQUNsRCxJQUFJLEtBQU8sSUFBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3hCLE1BQU0sSUFBSSxLQUFLLENBQUMsT0FBTyxDQUFDLENBQUM7SUFDN0IsQ0FBQztBQUNMLENBQUM7QUFFTSxTQUFTLElBQUksQ0FBQyxPQUFlO0lBQ2hDLElBQUksSUFBTyxFQUFFLENBQUM7UUFDVixPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksd0JBQWdCLE1BQU0sT0FBTyxFQUFFLENBQUMsQ0FBQztJQUN0RCxDQUFDO0FBQ0wsQ0FBQztBQUVNLFNBQVMsUUFBUSxDQUFDLE9BQWUsRUFBRSxHQUFHLElBQVc7SUFDcEQsSUFBSSxJQUFzQixFQUFFLENBQUM7UUFDekIsTUFBTSxHQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQztRQUN2QixhQUFhO1FBQ2IsTUFBTSxVQUFVLEdBQUcsR0FBRyxDQUFDLFdBQVcsRUFBRSxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxLQUFLLENBQUMsQ0FBQyxFQUFFLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDaEUsT0FBTyxDQUFDLEdBQUcsQ0FBQyxHQUFHLFVBQVUsS0FBSyx3QkFBZ0IsSUFBSSxPQUFXLE1BQU0sT0FBTyxFQUFFLEVBQUUsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUMzRixDQUFDO0FBQ0wsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL0BhdmF0aS9iYXRjaC1zY2hlZHVsZXIvLi9zcmMvZGV2LnRzP2I4OGUiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQgS2hhbGVkIFNhbWVlciA8a2hhbGVkLnNtcUBob3RtYWlsLmNvbT4uXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKiovXG5cblxuZGVjbGFyZSBnbG9iYWwge1xuICAgIGxldCBfX0RFVl9fOiBib29sZWFuO1xuICAgIGxldCBfX1NJTEVOVF9fOiBib29sZWFuO1xuICAgIGxldCBfX1ZFUlNJT05fXzogc3RyaW5nO1xuICAgIGxldCBfX1BBQ0tBR0VfTkFNRV9fOiBzdHJpbmc7XG4gICAgbGV0IF9fVEVTVF9fOiBib29sZWFuO1xuICAgIGxldCBfX0JST1dTRVJfXzogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGNvbnN0IGlzRGV2ID0gX19ERVZfXztcblxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChjb25kaXRpb246IGFueSwgbWVzc2FnZTogc3RyaW5nKTogYXNzZXJ0cyBjb25kaXRpb24ge1xuICAgIGlmIChfX0RFVl9fICYmICFjb25kaXRpb24pIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKG1lc3NhZ2UpO1xuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHdhcm4obWVzc2FnZTogc3RyaW5nKTogdm9pZCB7XG4gICAgaWYgKF9fREVWX18pIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBbJHtfX1BBQ0tBR0VfTkFNRV9ffV06ICR7bWVzc2FnZX1gKTtcbiAgICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBkZWJ1Z0xvZyhtZXNzYWdlOiBzdHJpbmcsIC4uLmFyZ3M6IGFueVtdKTogdm9pZCB7XG4gICAgaWYgKF9fREVWX18gJiYgIV9fU0lMRU5UX18pIHtcbiAgICAgICAgY29uc3Qgbm93ID0gbmV3IERhdGUoKTtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCB0aW1lV2l0aE1zID0gbm93LnRvSVNPU3RyaW5nKCkuc3BsaXQoJ1QnKVsxXS5zbGljZSgwLCAtMSk7XG4gICAgICAgIGNvbnNvbGUubG9nKGAke3RpbWVXaXRoTXN9IFske19fUEFDS0FHRV9OQU1FX199QCR7X19WRVJTSU9OX199XTogJHttZXNzYWdlfWAsIC4uLmFyZ3MpO1xuICAgIH1cbn1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./src/dev.ts\n");

/***/ }),

/***/ "./src/index.ts":
/*!**********************!*\
  !*** ./src/index.ts ***!
  \**********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BatchScheduler: () => (/* reexport safe */ _batch_scheduler__WEBPACK_IMPORTED_MODULE_0__.BatchScheduler),\n/* harmony export */   batchUpdates: () => (/* reexport safe */ _batch_scheduler__WEBPACK_IMPORTED_MODULE_0__.batchUpdates)\n/* harmony export */ });\n/* harmony import */ var _batch_scheduler__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./batch-scheduler */ \"./src/batch-scheduler.ts\");\n/**\n * Copyright (c) 2024 Khaled Sameer <khaled.smq@hotmail.com>.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n **/\n\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9zcmMvaW5kZXgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7O0FBQUE7Ozs7O0lBS0k7QUFFNkQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9AYXZhdGkvYmF0Y2gtc2NoZWR1bGVyLy4vc3JjL2luZGV4LnRzP2ZmYjQiXSwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMjQgS2hhbGVkIFNhbWVlciA8a2hhbGVkLnNtcUBob3RtYWlsLmNvbT4uXG4gKlxuICogVGhpcyBzb3VyY2UgY29kZSBpcyBsaWNlbnNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2UgZm91bmQgaW4gdGhlXG4gKiBMSUNFTlNFIGZpbGUgaW4gdGhlIHJvb3QgZGlyZWN0b3J5IG9mIHRoaXMgc291cmNlIHRyZWUuXG4gKiovXG5cbmV4cG9ydCB7IGJhdGNoVXBkYXRlcywgQmF0Y2hTY2hlZHVsZXIgfSBmcm9tICcuL2JhdGNoLXNjaGVkdWxlcic7XG4iXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./src/index.ts\n");

/***/ })

/******/ });
/************************************************************************/
/******/ // The module cache
/******/ var __webpack_module_cache__ = {};
/******/ 
/******/ // The require function
/******/ function __webpack_require__(moduleId) {
/******/ 	// Check if module is in cache
/******/ 	var cachedModule = __webpack_module_cache__[moduleId];
/******/ 	if (cachedModule !== undefined) {
/******/ 		return cachedModule.exports;
/******/ 	}
/******/ 	// Create a new module (and put it into the cache)
/******/ 	var module = __webpack_module_cache__[moduleId] = {
/******/ 		// no module.id needed
/******/ 		// no module.loaded needed
/******/ 		exports: {}
/******/ 	};
/******/ 
/******/ 	// Execute the module function
/******/ 	__webpack_modules__[moduleId](module, module.exports, __webpack_require__);
/******/ 
/******/ 	// Return the exports of the module
/******/ 	return module.exports;
/******/ }
/******/ 
/************************************************************************/
/******/ /* webpack/runtime/define property getters */
/******/ (() => {
/******/ 	// define getter functions for harmony exports
/******/ 	__webpack_require__.d = (exports, definition) => {
/******/ 		for(var key in definition) {
/******/ 			if(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {
/******/ 				Object.defineProperty(exports, key, { enumerable: true, get: definition[key] });
/******/ 			}
/******/ 		}
/******/ 	};
/******/ })();
/******/ 
/******/ /* webpack/runtime/hasOwnProperty shorthand */
/******/ (() => {
/******/ 	__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))
/******/ })();
/******/ 
/******/ /* webpack/runtime/make namespace object */
/******/ (() => {
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = (exports) => {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/ })();
/******/ 
/************************************************************************/
/******/ 
/******/ // startup
/******/ // Load entry module and return exports
/******/ // This entry module can't be inlined because the eval-source-map devtool is used.
/******/ var __webpack_exports__ = __webpack_require__("./src/index.ts");
/******/ var __webpack_exports__BatchScheduler = __webpack_exports__.BatchScheduler;
/******/ var __webpack_exports__batchUpdates = __webpack_exports__.batchUpdates;
/******/ export { __webpack_exports__BatchScheduler as BatchScheduler, __webpack_exports__batchUpdates as batchUpdates };
/******/ 
